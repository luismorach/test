{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductosPorCategoriaComponent = class ProductosPorCategoriaComponent {\n  constructor(routes, comunicatorSvc, categoriesSvc, productsSvc) {\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.categoriesSvc = categoriesSvc;\n    this.productsSvc = productsSvc;\n    this.categories = [];\n    this.productByCategory = [];\n  }\n  ngOnInit() {\n    let title = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2);\n      title.push(\"fas fa-box fa-fw\"); //aa単ado el icono del titulo al array\n      title.push(decodeURI(ruta).toUpperCase()); //a単ado el titulo al array\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.categoriesSvc.getCategories().subscribe({\n      next: categories => {\n        this.categories = categories;\n      },\n      complete: () => {\n        this.categories.forEach(category => {\n          this.productsSvc.getProductoByCategory(category.id_category).subscribe(products => {\n            if (products instanceof Array) {\n              this.productByCategory.push({\n                category,\n                products\n              });\n              console.log(this.productByCategory);\n            } else {\n              products = [];\n              this.productByCategory.push({\n                category,\n                products\n              });\n              console.log(this.productByCategory);\n            }\n          });\n        });\n      }\n    });\n  }\n};\nProductosPorCategoriaComponent = __decorate([Component({\n  selector: 'app-productos-por-categoria',\n  templateUrl: './productos-por-categoria.component.html',\n  styleUrls: ['./productos-por-categoria.component.css']\n})], ProductosPorCategoriaComponent);\nexport { ProductosPorCategoriaComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAYlC,IAAMC,8BAA8B,GAApC,MAAMA,8BAA8B;EAKzCC,YAAoBC,MAAc,EACxBC,cAA2C,EAC3CC,aAAgC,EAChCC,WAA6B;IAHnB,WAAM,GAANH,MAAM;IAChB,mBAAc,GAAdC,cAAc;IACd,kBAAa,GAAbC,aAAa;IACb,gBAAW,GAAXC,WAAW;IAPrB,eAAU,GAAe,EAAE;IAC3B,sBAAiB,GAAqB,EAAE;EAMG;EAE3CC,QAAQ;IACN,IAAIC,KAAK,GAAa,EAAE;IACxB,IAAIC,IAAI;IACRC,UAAU,CAAC,MAAK;MACd;MACAD,IAAI,GAAG,IAAI,CAACN,MAAM,CAACQ,GAAG,CAACC,KAAK,CAAE,IAAI,CAACT,MAAM,CAACQ,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,CAAC,GAAI,CAAC,CAAC;MACzEL,KAAK,CAACM,IAAI,CAAC,kBAAkB,CAAC,CAAC;MAC/BN,KAAK,CAACM,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAACO,WAAW,EAAE,CAAC,CAAC;MAE1C,IAAI,CAACZ,cAAc,CAACa,iBAAiB,CAACT,KAAK,CAAC;IAC9C,CAAC,CAAC;IACF,IAAI,CAACH,aAAa,CAACa,aAAa,EAAE,CAACC,SAAS,CAAC;MAC3CC,IAAI,EAAEC,UAAU,IAAE;QAAG,IAAI,CAACA,UAAU,GAAGA,UAAU;MAAC,CAAC;MACnDC,QAAQ,EAAE,MAAK;QACb,IAAI,CAACD,UAAU,CAACE,OAAO,CAAEC,QAAkB,IAAI;UAC7C,IAAI,CAAClB,WAAW,CAACmB,qBAAqB,CAACD,QAAQ,CAACE,WAAW,CAAC,CAACP,SAAS,CACpEQ,QAAQ,IAAG;YACT,IAAIA,QAAQ,YAAYC,KAAK,EAAE;cAC7B,IAAI,CAACC,iBAAiB,CAACf,IAAI,CAAC;gBAACU,QAAQ;gBAAEG;cAAQ,CAAC,CAAC;cACjDG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,iBAAiB,CAAC;aACpC,MAAI;cACHF,QAAQ,GAAC,EAAE;cACX,IAAI,CAACE,iBAAiB,CAACf,IAAI,CAAC;gBAACU,QAAQ;gBAACG;cAAQ,CAAC,CAAC;cAChDG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,iBAAiB,CAAC;;UAEvC,CAAC,CACF;QACH,CAAC,CAAC;MACJ;KACD,CAAC;EACJ;CAGD;AA3CY5B,8BAA8B,eAL1CD,SAAS,CAAC;EACTgC,QAAQ,EAAE,6BAA6B;EACvCC,WAAW,EAAE,0CAA0C;EACvDC,SAAS,EAAE,CAAC,yCAAyC;CACtD,CAAC,GACWjC,8BAA8B,CA2C1C;SA3CYA,8BAA8B","names":["Component","ProductosPorCategoriaComponent","constructor","routes","comunicatorSvc","categoriesSvc","productsSvc","ngOnInit","title","ruta","setTimeout","url","slice","indexOf","push","decodeURI","toUpperCase","setTitleComponent","getCategories","subscribe","next","categories","complete","forEach","category","getProductoByCategory","id_category","products","Array","productByCategory","console","log","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/productos/productos-por-categoria/productos-por-categoria.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { category, product, productByCategory } from 'src/app/interfaces/interfaces';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { CategoriasService } from '../../administracion/categorias/service/categorias.service';\nimport { ProductosService } from '../productos-en-almacen/service/productos.service';\n\n@Component({\n  selector: 'app-productos-por-categoria',\n  templateUrl: './productos-por-categoria.component.html',\n  styleUrls: ['./productos-por-categoria.component.css']\n})\nexport class ProductosPorCategoriaComponent {\n  categories: category[] = []\n  productByCategory:productByCategory[]=[]\n  \n\n  constructor(private routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    private categoriesSvc: CategoriasService,\n    private productsSvc: ProductosService) { }\n\n  ngOnInit() {\n    let title: string[] = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2);\n      title.push(\"fas fa-box fa-fw\");//aa単ado el icono del titulo al array\n      title.push(decodeURI(ruta).toUpperCase());//a単ado el titulo al array\n\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.categoriesSvc.getCategories().subscribe({\n      next: categories=> { this.categories = categories },\n      complete: () => {\n        this.categories.forEach((category: category) => {\n          this.productsSvc.getProductoByCategory(category.id_category).subscribe(\n            products => {\n              if (products instanceof Array) {\n                this.productByCategory.push({category, products})\n                console.log(this.productByCategory)\n              }else{\n                products=[]\n                this.productByCategory.push({category,products})\n                console.log(this.productByCategory)\n              }\n            }\n          )\n        });\n      }\n    });\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}