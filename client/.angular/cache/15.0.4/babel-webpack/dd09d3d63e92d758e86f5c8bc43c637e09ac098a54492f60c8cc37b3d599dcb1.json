{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/comunicator/comunicator-componets.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../ventas/service/ventas.service\";\nimport * as i4 from \"../../configuraciones/service/coins.service\";\nimport * as i5 from \"@angular/common\";\nfunction ReporteDeVentaComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const reporte_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reporte_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", reporte_r2.names_user, \" \", reporte_r2.last_names_user, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reporte_r2.sells);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 7, reporte_r2.total_sell, reporte_r2.coin + \" \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 10, reporte_r2.costos, reporte_r2.coin + \" \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 13, reporte_r2.total_sell - reporte_r2.costos, reporte_r2.coin + \" \"));\n  }\n}\nfunction ReporteDeVentaComponent_tr_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4, \"2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6, \"5\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8, \"0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12, \"8\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const coin_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", coin_r3.name, \" \", coin_r3.symbol, \"\");\n  }\n}\nexport class ReporteDeVentaComponent {\n  constructor(comunicatorSvc, routes, ventasSvc, coinsSvc) {\n    this.comunicatorSvc = comunicatorSvc;\n    this.routes = routes;\n    this.ventasSvc = ventasSvc;\n    this.coinsSvc = coinsSvc;\n    this.result = [];\n    this.date = new Date();\n    this.reportes = [];\n    this.coins = [];\n  }\n  ngOnInit() {\n    let title = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2);\n      title.push(decodeURI(ruta).toUpperCase()); //añado el titulo al array\n      title.push(\"fas fa-hand-holding-usd fa-fw\"); //aañado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.ventasSvc.getSellBydate(this.date).subscribe(res => {\n      this.reportes = res;\n    });\n    this.coinsSvc.getCoins().subscribe(res => {\n      this.coins = res;\n    });\n  }\n  calcularTotales() {\n    let values = {\n      sells: 0,\n      total_sell: 0,\n      total_costos: 0,\n      ganancias: 0,\n      coin: ''\n    };\n    this.reportes.forEach(reporte => {\n      values.sells += Number(reporte.sells);\n      values.total_sell += Number(Number(reporte.total_sell).toFixed(2));\n      console.log(values.total_sell);\n      values.total_costos += Number(Number(reporte.costos).toFixed(2));\n      values.ganancias += Number(Number(reporte.total_sell - reporte.costos).toFixed(2));\n      values.coin = reporte.coin;\n    });\n    return values;\n  }\n  ngOnDestroy() {\n    this.data$.unsubscribe();\n  }\n}\nReporteDeVentaComponent.ɵfac = function ReporteDeVentaComponent_Factory(t) {\n  return new (t || ReporteDeVentaComponent)(i0.ɵɵdirectiveInject(i1.ComunicatorComponetsService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.VentasService), i0.ɵɵdirectiveInject(i4.CoinsService));\n};\nReporteDeVentaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReporteDeVentaComponent,\n  selectors: [[\"app-reporte-de-venta\"]],\n  decls: 62,\n  vars: 19,\n  consts: [[1, \"report-title\"], [1, \"table-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function ReporteDeVentaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1);\n      i0.ɵɵpipe(2, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"table\", 3)(6, \"thead\")(7, \"tr\")(8, \"th\");\n      i0.ɵɵtext(9, \"Caja\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Vendedor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Ventas realizadas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Total en ventas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Costo de venta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Ganancias\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"th\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"tbody\");\n      i0.ɵɵtemplate(22, ReporteDeVentaComponent_tr_22_Template, 16, 16, \"tr\", 4);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(23, \"div\", 1)(24, \"div\", 2)(25, \"table\", 3)(26, \"thead\")(27, \"tr\")(28, \"th\");\n      i0.ɵɵtext(29, \"Total ventas realizadas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"Total en ventas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"th\");\n      i0.ɵɵtext(33, \"Total costos de venta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"th\");\n      i0.ɵɵtext(35, \"Total ganancias\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(36, \"tbody\")(37, \"tr\")(38, \"td\");\n      i0.ɵɵtext(39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"td\");\n      i0.ɵɵtext(41);\n      i0.ɵɵpipe(42, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"td\");\n      i0.ɵɵtext(44);\n      i0.ɵɵpipe(45, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"td\");\n      i0.ɵɵtext(47);\n      i0.ɵɵpipe(48, \"currency\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(49, \"div\", 1)(50, \"div\", 2)(51, \"table\", 3)(52, \"thead\")(53, \"tr\")(54, \"th\");\n      i0.ɵɵtext(55, \"Moneda\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"th\");\n      i0.ɵɵtext(57, \"Total en transacciones el\\u00E9ctronicas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"th\");\n      i0.ɵɵtext(59, \"Total en efectivo\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(60, \"tbody\");\n      i0.ɵɵtemplate(61, ReporteDeVentaComponent_tr_61_Template, 13, 2, \"tr\", 4);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\"Estad\\u00EDsticas de venta hoy (\", i0.ɵɵpipeBind2(2, 7, ctx.date, \"dd/MM/yyyy\"), \")\");\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reportes);\n      i0.ɵɵadvance(17);\n      i0.ɵɵtextInterpolate(ctx.calcularTotales().sells);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(42, 10, ctx.calcularTotales().total_sell, ctx.reportes[0].coin + \" \"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(45, 13, ctx.calcularTotales().total_costos, ctx.reportes[0].coin + \" \"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(48, 16, ctx.calcularTotales().ganancias, ctx.reportes[0].coin + \" \"));\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.coins);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.CurrencyPipe, i5.DatePipe],\n  styles: [\".report-title[_ngcontent-%COMP%]{\\n    text-align:center;\\n    margin:0px;\\n    margin-top: 40px;\\n    font-size: 1.6rem;\\n    font-weight: 200;\\n}\\n.table[_ngcontent-%COMP%]{\\n    background-color: white;\\n    color:black;\\n    text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGVudC9yZXBvcnRlcy9yZXBvcnRlLWRlLXZlbnRhL3JlcG9ydGUtZGUtdmVudGEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiLnJlcG9ydC10aXRsZXtcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICBtYXJnaW46MHB4O1xuICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgZm9udC1zaXplOiAxLjZyZW07XG4gICAgZm9udC13ZWlnaHQ6IDIwMDtcbn1cbi50YWJsZXtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICBjb2xvcjpibGFjaztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ReporteDeVentaComponent","constructor","comunicatorSvc","routes","ventasSvc","coinsSvc","Date","ngOnInit","title","ruta","setTimeout","url","slice","indexOf","push","decodeURI","toUpperCase","setTitleComponent","getSellBydate","date","subscribe","res","reportes","getCoins","coins","calcularTotales","values","sells","total_sell","total_costos","ganancias","coin","forEach","reporte","Number","toFixed","console","log","costos","ngOnDestroy","data$","unsubscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/reportes/reporte-de-venta/reporte-de-venta.component.html","/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/reportes/reporte-de-venta/reporte-de-venta.component.ts"],"sourcesContent":["<h3 class=\"report-title\">Estadísticas de venta hoy ({{date|date:'dd/MM/yyyy'}})</h3>\n<div class=\"table-body\">\n    <div class=\"table-responsive\">\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>Caja</th>\n                    <th>Vendedor</th>\n                    <th>Ventas realizadas</th>\n                    <th>Total en ventas</th>\n                    <th>Costo de venta</th>\n                    <th>Ganancias</th>\n                    <th></th>\n                </tr>\n            </thead>\n\n            <tbody>\n                <tr *ngFor=\"let reporte of reportes\">\n                    <td>{{reporte.name}}</td>\n                    <td>{{reporte.names_user}} {{reporte.last_names_user}}</td>\n                    <td>{{reporte.sells}}</td>\n                    <td>{{reporte.total_sell|currency:reporte.coin+' '}}</td>\n                    <td>{{reporte.costos|currency:reporte.coin+' '}}</td>\n                    <td>{{reporte.total_sell-reporte.costos|currency:reporte.coin+' '}}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n<div class=\"table-body\">\n    <div class=\"table-responsive\">\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>Total ventas realizadas</th>\n                    <th>Total en ventas</th>\n                    <th>Total costos de venta</th>\n                    <th>Total ganancias</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                <tr>\n                    <td>{{calcularTotales().sells}}</td>\n                    <td>{{calcularTotales().total_sell|currency:reportes[0].coin+' '}}</td>\n                    <td>{{calcularTotales().total_costos|currency:reportes[0].coin+' '}}</td>\n                    <td>{{calcularTotales().ganancias|currency:reportes[0].coin+' '}}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n<div class=\"table-body\">\n    <div class=\"table-responsive\">\n        <table class=\"table table-bordered\">\n            <thead>\n                <tr>\n                    <th>Moneda</th>\n                    <th>Total en transacciones eléctronicas</th>\n                    <th>Total en efectivo</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                <tr *ngFor=\"let coin of coins\">\n                    <td>{{coin.name}} {{coin.symbol}}</td>\n                    <td>2</td>\n                    <td>5</td>\n                    <td>0</td>\n                    <td>9</td>\n                    <td>8</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription, tap } from 'rxjs';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { VentasService } from '../../ventas/service/ventas.service';\nimport { coin, pay } from 'src/app/interfaces/interfaces';\nimport { CoinsService } from '../../configuraciones/service/coins.service';\n\n@Component({\n  selector: 'app-reporte-de-venta',\n  templateUrl: './reporte-de-venta.component.html',\n  styleUrls: ['./reporte-de-venta.component.css']\n})\nexport class ReporteDeVentaComponent {\n  result: any[] = [];\n  data$!: Subscription\n  date = new Date()\n  reportes: any[] = []\n  coins: coin[] = []\n  constructor(private comunicatorSvc: ComunicatorComponetsService,\n    private routes: Router,\n    private ventasSvc: VentasService,\n    private coinsSvc: CoinsService) { }\n  ngOnInit() {\n    let title: string[] = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2);\n      title.push(decodeURI(ruta).toUpperCase());//añado el titulo al array\n      title.push(\"fas fa-hand-holding-usd fa-fw\");//aañado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.ventasSvc.getSellBydate(this.date).subscribe(res => {\n      this.reportes = res\n    })\n    this.coinsSvc.getCoins().subscribe(res => {\n      this.coins=res\n    })\n  }\n  calcularTotales() {\n    let values = { sells: 0, total_sell: 0, total_costos: 0, ganancias: 0,coin:'' }\n    this.reportes.forEach((reporte: any) => {\n      values.sells += Number(reporte.sells)\n      values.total_sell += Number(Number(reporte.total_sell).toFixed(2))\n      console.log(values.total_sell)\n      values.total_costos += Number(Number(reporte.costos).toFixed(2))\n      values.ganancias += Number(Number(reporte.total_sell - reporte.costos).toFixed(2))\n      values.coin=reporte.coin\n    })\n    return values\n  }\n  ngOnDestroy() {\n    this.data$.unsubscribe();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}