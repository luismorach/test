{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport { DinamicInput } from 'src/app/utils/DinamicInput';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/comunicator/comunicator-componets.service\";\nimport * as i4 from \"../../administracion/categorias/service/categorias.service\";\nimport * as i5 from \"../../configuraciones/service/empresa.service\";\nimport * as i6 from \"../productos-en-almacen/service/productos.service\";\nimport * as i7 from \"@angular/common\";\nconst _c0 = [\"popup\"];\nconst _c1 = function (a0) {\n  return {\n    \"input-on-focus\": a0\n  };\n};\nconst _c2 = function (a0) {\n  return {\n    \"label-on-focus-up\": a0\n  };\n};\nfunction NuevoProductoComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"label\", 6);\n    i0.ɵɵtext(3, \" Fecha de vencimiento \");\n    i0.ɵɵelement(4, \"i\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 39);\n    i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_div_48_Template_input_focus_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.isFocused(5, ctx_r8.formNewProduct, \"select\"));\n    })(\"focusout\", function NuevoProductoComponent_div_48_Template_input_focusout_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.isFocused(5, ctx_r10.formNewProduct, \"select\"));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c1, ctx_r0.elementHasFocus[5]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c2, ctx_r0.elementHasFocus[5]))(\"ngStyle\", ctx_r0.animationLabel(ctx_r0.formNewProduct, \"select\"));\n  }\n}\nfunction NuevoProductoComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"label\", 6);\n    i0.ɵɵtext(2, \" Fecha l\\u00EDmite de garant\\u00EDa \");\n    i0.ɵɵelement(3, \"i\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 40);\n    i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_div_62_Template_input_focus_4_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.isFocused(8, ctx_r11.formNewProduct, \"time_garanty\"));\n    })(\"focusout\", function NuevoProductoComponent_div_62_Template_input_focusout_4_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.isFocused(8, ctx_r13.formNewProduct, \"time_garanty\"));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c1, ctx_r1.elementHasFocus[8]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c2, ctx_r1.elementHasFocus[8]))(\"ngStyle\", ctx_r1.animationLabel(ctx_r1.formNewProduct, \"select\"));\n  }\n}\nfunction NuevoProductoComponent_option_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r14 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", category_r14.id_category);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r14.name);\n  }\n}\nfunction NuevoProductoComponent_option_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r3.building.tax_rate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.building.name_tax.toUpperCase(), \"\");\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"btn-save\": a0\n  };\n};\nfunction NuevoProductoComponent_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function NuevoProductoComponent_div_82_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.openModal(ctx_r15.formNewProduct));\n    });\n    i0.ɵɵelement(2, \"i\", 43);\n    i0.ɵɵtext(3, \" \\u00A0\\u00A0ACEPTAR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function NuevoProductoComponent_div_82_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.clean());\n    });\n    i0.ɵɵelement(5, \"i\", 45);\n    i0.ɵɵtext(6, \" \\u00A0\\u00A0LIMPIAR\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c3, ctx_r4.formNewProduct.valid));\n  }\n}\nconst _c4 = function (a0) {\n  return {\n    \"btn-update\": a0\n  };\n};\nfunction NuevoProductoComponent_div_83_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function NuevoProductoComponent_div_83_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.openModal(ctx_r18.formNewProduct));\n    });\n    i0.ɵɵelement(2, \"i\", 36);\n    i0.ɵɵtext(3, \" \\u00A0\\u00A0ACTUALIZAR\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c4, ctx_r5.formNewProduct.valid));\n  }\n}\nfunction NuevoProductoComponent_button_98_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function NuevoProductoComponent_button_98_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.cancel());\n    });\n    i0.ɵɵtext(1, \" \\u00A0\\u00A0CANCELAR\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c5 = function (a0, a1) {\n  return {\n    \"input-on-focus-success\": a0,\n    \"input-on-focus-fail\": a1\n  };\n};\nconst _c6 = function (a0, a1) {\n  return {\n    \"label-on-focus-down\": a0,\n    \"label-on-focus-up\": a1\n  };\n};\nexport class NuevoProductoComponent extends DinamicInput {\n  constructor(fb, routes, comunicatorSvc, categoriesSvc, empresaSvc, productsSvc, renderer, route) {\n    super();\n    this.fb = fb;\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.categoriesSvc = categoriesSvc;\n    this.empresaSvc = empresaSvc;\n    this.productsSvc = productsSvc;\n    this.renderer = renderer;\n    this.route = route;\n    this.categories = [];\n    this.vence = true;\n    this.title = [];\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2);\n      this.title = [];\n      if (this.ruta.indexOf(\"actualizar\")) {\n        this.title.push(\"fas fa-box fa-fw\"); //aañado el icono del titulo al array\n      } else {\n        this.ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2, this.routes.url.lastIndexOf('/'));\n        this.title.push(\"fa fa-arrows-rotate\");\n      }\n      this.title.push(decodeURI(this.ruta).toUpperCase()); //añado el titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n    if (this.routes.url.includes(\"actualizar\")) {\n      this.route.paramMap.subscribe(params => {\n        this.id_product = Number(params.get('id_product'));\n        this.productsSvc.getProducto(this.id_product).subscribe({\n          next: res => {\n            console.log(res);\n            if (res instanceof Array) {\n              this.formNewProduct.get('barcode')?.setValue(res[0].barcode);\n              this.formNewProduct.get('name')?.setValue(res[0].name);\n              this.formNewProduct.get('mark')?.setValue(res[0].mark);\n              this.formNewProduct.get('model')?.setValue(res[0].model);\n              this.formNewProduct.get('discount')?.setValue(res[0].discount);\n              this.formNewProduct.get('garanty')?.setValue(res[0].garanty);\n              this.formNewProduct.get('expir')?.setValue(res[0].expir);\n              this.formNewProduct.get('check_expir')?.setValue(res[0].expir === null ? 'No vence' : 'Si vence');\n              this.formNewProduct.get('time_garanty')?.setValue(res[0].time_garanty);\n              this.formNewProduct.get('id_category')?.setValue(res[0].id_category);\n              this.formNewProduct.get('impuest')?.setValue(res[0].impuest);\n              this.productToUpdate = res[0];\n            } else {\n              this.changeModal(res);\n              this.popUp?.nativeElement.showModal();\n            }\n          },\n          error: error => {\n            this.error(error);\n          }\n        });\n      });\n    }\n    this.categoriesSvc.getCategories().subscribe(res => {\n      this.categories = res;\n    });\n    this.empresaSvc.getBuildings().subscribe(res => {\n      this.building = res[0];\n    });\n    this.formNewProduct = this.fb.group({\n      barcode: new FormControl('', [Validators.required, Validators.pattern(/^[0-9]+$/)]),\n      name: new FormControl('', [Validators.required, Validators.pattern(/^[a-zA-Z ]+$/)]),\n      mark: new FormControl('', [Validators.pattern(/^[a-zA-Z ]+$/)]),\n      model: new FormControl('', [Validators.pattern(/^[a-zA-Z ]+$/)]),\n      discount: new FormControl('', [Validators.required, Validators.pattern(/^[0-9]+$/)]),\n      garanty: new FormControl('Habilitada', [Validators.required]),\n      expir: new FormControl(),\n      time_garanty: new FormControl(null),\n      id_category: new FormControl(0),\n      impuest: new FormControl(),\n      check_expir: new FormControl('Si vence')\n    });\n    this.setValidator('garanty', 'Habilitada', 'time_garanty');\n    this.setValidator('check_expir', 'Si vence', 'expir');\n  }\n  setValidator(father, valueFather, son) {\n    console.log(this.formNewProduct.get(father)?.value);\n    if (this.formNewProduct.get(father)?.value === valueFather) {\n      this.formNewProduct.get(son)?.setValidators([Validators.required]);\n    } else {\n      this.formNewProduct.get(son)?.removeValidators([Validators.required]);\n    }\n    this.formNewProduct.get(son)?.updateValueAndValidity();\n  }\n  acept() {\n    this.popUp?.nativeElement.close();\n    if (this.popUp?.nativeElement.children[1].textContent === '¿Estás seguro?') {\n      if (this.ruta.indexOf(\"actualizar\")) {\n        this.submit();\n      } else if (this.popUp?.nativeElement.children[2].textContent.includes('¿desea continuar?')) {\n        this.redirectToListProducts();\n      } else {\n        this.validarUpdate();\n      }\n    } else if (this.popUp?.nativeElement.children[1].textContent.includes('Actualizado') && this.ruta.includes(\"actualizar\")) {\n      this.redirectToListProducts();\n    }\n  }\n  error(error) {\n    this.changeModal(this.comunicatorSvc.errorServer(error));\n    this.popUp?.nativeElement.showModal();\n  }\n  validarUpdate() {\n    if (this.formNewProduct.get('barcode')?.value === this.productToUpdate.barcode && this.formNewProduct.get('name')?.value === this.productToUpdate.name && this.formNewProduct.get('mark')?.value === this.productToUpdate.mark && this.formNewProduct.get('model')?.value === this.productToUpdate.model && this.formNewProduct.get('discount')?.value === this.productToUpdate.discount && this.formNewProduct.get('garanty')?.value === this.productToUpdate.garanty && this.formNewProduct.get('expir')?.value === this.productToUpdate.expir && this.formNewProduct.get('time_garanty')?.value === this.productToUpdate.time_garanty && this.formNewProduct.get('id_category')?.value === this.productToUpdate.id_category && this.formNewProduct.get('impuest')?.value === this.productToUpdate.impuest && this.formNewProduct.get('check_expir')?.value === (this.productToUpdate.expir === null ? 'No vence' : 'Si vence')) {\n      let msj = {\n        icon: '',\n        title: '¿Estás seguro?',\n        content: 'No ha modificado los datos del usuario ¿desea continuar?'\n      };\n      this.changeModal(msj);\n      this.popUp?.nativeElement.showModal();\n    } else {\n      this.update();\n    }\n  }\n  update() {\n    if (this.formNewProduct.get('check_expir')?.value === 'No vence') this.formNewProduct.get('expir')?.setValue(null);\n    this.productsSvc.updateProducto(Number(this.id_product), this.formNewProduct.value).subscribe({\n      next: res => {\n        console.log(res);\n        this.changeModal(res);\n        this.popUp?.nativeElement.showModal();\n      },\n      error: error => {\n        this.error(error);\n      }\n    });\n  }\n  redirectToListProducts() {\n    this.routes.navigate(['/productos/productos en almacen']);\n  }\n  submit() {\n    if (this.formNewProduct.get('check_expir')?.value === 'No vence') this.formNewProduct.get('expir')?.setValue(null);\n    console.log(this.formNewProduct.value);\n    this.productsSvc.setProducto(this.formNewProduct.value).subscribe({\n      next: res => {\n        console.log(res);\n        this.changeModal(res);\n        this.popUp?.nativeElement.showModal();\n      },\n      error: error => {\n        this.error(error);\n      }\n    });\n  }\n  clean() {\n    this.formNewProduct.get('barcode')?.setValue('');\n    this.formNewProduct.get('name')?.setValue('');\n    this.formNewProduct.get('mark')?.setValue('');\n    this.formNewProduct.get('model')?.setValue('');\n    this.formNewProduct.get('discount')?.setValue('');\n    this.formNewProduct.get('timeUnit')?.setValue('');\n  }\n}\nNuevoProductoComponent.ɵfac = function NuevoProductoComponent_Factory(t) {\n  return new (t || NuevoProductoComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ComunicatorComponetsService), i0.ɵɵdirectiveInject(i4.CategoriasService), i0.ɵɵdirectiveInject(i5.EmpresaService), i0.ɵɵdirectiveInject(i6.ProductosService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nNuevoProductoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NuevoProductoComponent,\n  selectors: [[\"app-nuevo-producto\"]],\n  viewQuery: function NuevoProductoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.popUp = _t.first);\n    }\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 99,\n  vars: 70,\n  consts: [[1, \"form-container\"], [1, \"form-title\"], [1, \"fa\", \"fa-barcode\"], [1, \"form\", 3, \"formGroup\"], [1, \"form-group\"], [1, \"form-control\", 3, \"ngClass\"], [1, \"form-label\", 3, \"ngClass\", \"ngStyle\"], [1, \"fab\", \"fa-font-awesome-alt\"], [\"formControlName\", \"barcode\", 1, \"form-input\", 3, \"ngStyle\", \"focus\", \"focusout\"], [1, \"fas\", \"fa-box\", \"fa-fw\"], [\"formControlName\", \"name\", 1, \"form-input\", 3, \"ngStyle\", \"focus\", \"focusout\"], [\"formControlName\", \"mark\", 1, \"form-input\", 3, \"ngStyle\", \"focus\", \"focusout\"], [\"formControlName\", \"model\", 1, \"form-input\", 3, \"ngStyle\", \"focus\", \"focusout\"], [\"formControlName\", \"discount\", 1, \"form-input\", 3, \"ngStyle\", \"focus\", \"focusout\"], [1, \"fas\", \"fa-calendar-alt\"], [1, \"ratio-buttons\"], [\"formControlName\", \"check_expir\", \"type\", \"radio\", \"value\", \"Si vence\", \"checked\", \"\", 3, \"change\"], [1, \"far\", \"fa-check-circle\", \"fa-fw\"], [\"formControlName\", \"check_expir\", \"type\", \"radio\", \"value\", \"No vence\", 3, \"change\"], [1, \"far\", \"fa-times-circle\", \"fa-fw\"], [\"class\", \"form-group\", 4, \"ngIf\"], [1, \"fas\", \"fa-history\"], [1, \"form-control\"], [\"formControlName\", \"garanty\", \"id\", \"\", 1, \"form-input\", 3, \"change\", \"focus\", \"focusout\"], [\"class\", \"form-control\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"fas\", \"fa-truck-loading\"], [\"formControlName\", \"id_category\", \"id\", \"\", 1, \"form-input\", 3, \"focus\", \"focusout\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"impuest\", \"id\", \"\", 1, \"form-input\", 3, \"focus\", \"focusout\"], [3, \"value\", 4, \"ngIf\"], [\"value\", \"0\"], [1, \"form-actions\"], [4, \"ngIf\"], [1, \"form-info\"], [1, \"dialog\"], [\"popup\", \"\"], [1, \"fa\", \"fa-arrows-rotate\"], [1, \"form-button\", \"btn-save\", 3, \"click\"], [\"class\", \"form-button btn-save\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"date\", \"formControlName\", \"expir\", 1, \"form-input\", 3, \"focus\", \"focusout\"], [\"type\", \"date\", \"formControlName\", \"time_garanty\", 1, \"form-input\", 3, \"focus\", \"focusout\"], [3, \"value\"], [\"id\", \"btn-success\", 1, \"form-button\", 3, \"ngClass\", \"click\"], [1, \"far\", \"fa-save\"], [\"id\", \"btn-clean\", 1, \"form-button\", \"btn-clean\", 3, \"click\"], [1, \"fas\", \"fa-paint-roller\"], [1, \"form-button\", 3, \"ngClass\", \"click\"]],\n  template: function NuevoProductoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n      i0.ɵɵelement(2, \"i\", 2);\n      i0.ɵɵtext(3, \" \\u00A0C\\u00F3digo de barra \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"label\", 6);\n      i0.ɵɵtext(8, \" C\\u00F3digo de barra \");\n      i0.ɵɵelement(9, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 8);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_input_focus_10_listener() {\n        return ctx.isFocused(5, ctx.formNewProduct, \"barcode\");\n      })(\"focusout\", function NuevoProductoComponent_Template_input_focusout_10_listener() {\n        return ctx.isFocused(5, ctx.formNewProduct, \"barcode\");\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"h3\", 1);\n      i0.ɵɵelement(12, \"i\", 9);\n      i0.ɵɵtext(13, \" \\u00A0Informaci\\u00F3n del producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 4)(15, \"div\", 5)(16, \"label\", 6);\n      i0.ɵɵtext(17, \" Nombre \");\n      i0.ɵɵelement(18, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 10);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_input_focus_19_listener() {\n        return ctx.isFocused(1, ctx.formNewProduct, \"name\");\n      })(\"focusout\", function NuevoProductoComponent_Template_input_focusout_19_listener() {\n        return ctx.isFocused(1, ctx.formNewProduct, \"name\");\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 5)(21, \"label\", 6);\n      i0.ɵɵtext(22, \" Marca \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 11);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_input_focus_23_listener() {\n        return ctx.isFocused(2, ctx.formNewProduct, \"mark\");\n      })(\"focusout\", function NuevoProductoComponent_Template_input_focusout_23_listener() {\n        return ctx.isFocused(2, ctx.formNewProduct, \"mark\");\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 5)(25, \"label\", 6);\n      i0.ɵɵtext(26, \" Modelo \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 12);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_input_focus_27_listener() {\n        return ctx.isFocused(3, ctx.formNewProduct, \"model\");\n      })(\"focusout\", function NuevoProductoComponent_Template_input_focusout_27_listener() {\n        return ctx.isFocused(3, ctx.formNewProduct, \"model\");\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 5)(29, \"label\", 6);\n      i0.ɵɵtext(30, \" Descuento del producto (%) \");\n      i0.ɵɵelement(31, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"input\", 13);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_input_focus_32_listener() {\n        return ctx.isFocused(4, ctx.formNewProduct, \"discount\");\n      })(\"focusout\", function NuevoProductoComponent_Template_input_focusout_32_listener() {\n        return ctx.isFocused(4, ctx.formNewProduct, \"discount\");\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"h3\", 1);\n      i0.ɵɵelement(34, \"i\", 14);\n      i0.ɵɵtext(35, \" \\u00A0Vencimiento del producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 4)(37, \"label\", 15)(38, \"input\", 16);\n      i0.ɵɵlistener(\"change\", function NuevoProductoComponent_Template_input_change_38_listener() {\n        return ctx.setValidator(\"check_expir\", \"Si vence\", \"expir\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \" \\u00A0\");\n      i0.ɵɵelement(40, \"i\", 17);\n      i0.ɵɵtext(41, \"\\u00A0Si Vence \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\", 4)(43, \"label\", 15)(44, \"input\", 18);\n      i0.ɵɵlistener(\"change\", function NuevoProductoComponent_Template_input_change_44_listener() {\n        return ctx.setValidator(\"check_expir\", \"Si vence\", \"expir\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \" \\u00A0\");\n      i0.ɵɵelement(46, \"i\", 19);\n      i0.ɵɵtext(47, \"\\u00A0No vence \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(48, NuevoProductoComponent_div_48_Template, 6, 7, \"div\", 20);\n      i0.ɵɵelementStart(49, \"h3\", 1);\n      i0.ɵɵelement(50, \"i\", 21);\n      i0.ɵɵtext(51, \" \\u00A0Garantia de f\\u00E1brica \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"div\", 4)(53, \"div\", 22)(54, \"label\", 6);\n      i0.ɵɵtext(55, \" Garantia \");\n      i0.ɵɵelement(56, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"select\", 23);\n      i0.ɵɵlistener(\"change\", function NuevoProductoComponent_Template_select_change_57_listener() {\n        return ctx.setValidator(\"garanty\", \"Habilitada\", \"time_garanty\");\n      })(\"focus\", function NuevoProductoComponent_Template_select_focus_57_listener() {\n        return ctx.isFocused(6, ctx.formNewProduct, \"select\");\n      })(\"focusout\", function NuevoProductoComponent_Template_select_focusout_57_listener() {\n        return ctx.isFocused(6, ctx.formNewProduct, \"select\");\n      });\n      i0.ɵɵelementStart(58, \"option\");\n      i0.ɵɵtext(59, \"Habilitada\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"option\");\n      i0.ɵɵtext(61, \"Deshabilitada\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(62, NuevoProductoComponent_div_62_Template, 5, 7, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"h3\", 1);\n      i0.ɵɵelement(64, \"i\", 25);\n      i0.ɵɵtext(65, \" Categor\\u00EDa & impuesto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"div\", 4)(67, \"div\", 22)(68, \"label\", 6);\n      i0.ɵɵtext(69, \" Categor\\u00EDa \");\n      i0.ɵɵelement(70, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"select\", 26);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_select_focus_71_listener() {\n        return ctx.isFocused(9, ctx.formNewProduct, \"select\");\n      })(\"focusout\", function NuevoProductoComponent_Template_select_focusout_71_listener() {\n        return ctx.isFocused(9, ctx.formNewProduct, \"select\");\n      });\n      i0.ɵɵtemplate(72, NuevoProductoComponent_option_72_Template, 2, 2, \"option\", 27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(73, \"div\", 22)(74, \"label\", 6);\n      i0.ɵɵtext(75, \" Impuesto \");\n      i0.ɵɵelement(76, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"select\", 28);\n      i0.ɵɵlistener(\"focus\", function NuevoProductoComponent_Template_select_focus_77_listener() {\n        return ctx.isFocused(15, ctx.formNewProduct, \"select\");\n      })(\"focusout\", function NuevoProductoComponent_Template_select_focusout_77_listener() {\n        return ctx.isFocused(15, ctx.formNewProduct, \"select\");\n      });\n      i0.ɵɵtemplate(78, NuevoProductoComponent_option_78_Template, 2, 2, \"option\", 29);\n      i0.ɵɵelementStart(79, \"option\", 30);\n      i0.ɵɵtext(80, \"EXENTO\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(81, \"div\", 31);\n      i0.ɵɵtemplate(82, NuevoProductoComponent_div_82_Template, 7, 3, \"div\", 32);\n      i0.ɵɵtemplate(83, NuevoProductoComponent_div_83_Template, 4, 3, \"div\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"p\", 33);\n      i0.ɵɵtext(85, \"Los campos marcados con \");\n      i0.ɵɵelement(86, \"i\", 7);\n      i0.ɵɵtext(87, \" son obligatorios\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(88, \"dialog\", 34, 35);\n      i0.ɵɵelement(90, \"i\", 36);\n      i0.ɵɵelementStart(91, \"h3\");\n      i0.ɵɵtext(92, \"\\u00BFEst\\u00E1s seguro?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(93, \"p\");\n      i0.ɵɵtext(94, \"Lois datos seran guardados en el sistema\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(95, \"div\")(96, \"button\", 37);\n      i0.ɵɵlistener(\"click\", function NuevoProductoComponent_Template_button_click_96_listener() {\n        return ctx.acept();\n      });\n      i0.ɵɵtext(97, \" \\u00A0\\u00A0ACEPTAR\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(98, NuevoProductoComponent_button_98_Template, 2, 0, \"button\", 38);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      let tmp_21_0;\n      let tmp_24_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.formNewProduct);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(34, _c5, ctx.verifyStyleInput(ctx.formNewProduct, \"barcode\") && ctx.elementHasFocus[5], !ctx.verifyStyleInput(ctx.formNewProduct, \"barcode\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(37, _c6, ctx.elementHasFocus[5] && ctx.positionLabel[5], ctx.elementHasFocus[5] && !ctx.positionLabel[5]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"barcode\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", ctx.styleForeground(ctx.formNewProduct, \"barcode\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(40, _c5, ctx.verifyStyleInput(ctx.formNewProduct, \"name\") && ctx.elementHasFocus[1], !ctx.verifyStyleInput(ctx.formNewProduct, \"name\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(43, _c6, ctx.elementHasFocus[1] && ctx.positionLabel[1], ctx.elementHasFocus[1] && !ctx.positionLabel[1]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"name\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", ctx.styleForeground(ctx.formNewProduct, \"name\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(46, _c5, ctx.verifyStyleInput(ctx.formNewProduct, \"mark\") && ctx.elementHasFocus[2], !ctx.verifyStyleInput(ctx.formNewProduct, \"mark\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(49, _c6, ctx.elementHasFocus[2] && ctx.positionLabel[2], ctx.elementHasFocus[2] && !ctx.positionLabel[2]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"mark\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", ctx.styleForeground(ctx.formNewProduct, \"mark\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(52, _c5, ctx.verifyStyleInput(ctx.formNewProduct, \"model\") && ctx.elementHasFocus[3], !ctx.verifyStyleInput(ctx.formNewProduct, \"model\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(55, _c6, ctx.elementHasFocus[3] && ctx.positionLabel[3], ctx.elementHasFocus[3] && !ctx.positionLabel[3]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"model\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", ctx.styleForeground(ctx.formNewProduct, \"model\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(58, _c5, ctx.verifyStyleInput(ctx.formNewProduct, \"discount\") && ctx.elementHasFocus[4], !ctx.verifyStyleInput(ctx.formNewProduct, \"discount\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(61, _c6, ctx.elementHasFocus[4] && ctx.positionLabel[4], ctx.elementHasFocus[4] && !ctx.positionLabel[4]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"discount\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", ctx.styleForeground(ctx.formNewProduct, \"discount\"));\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_21_0 = ctx.formNewProduct.get(\"check_expir\")) == null ? null : tmp_21_0.value) === \"Si vence\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(64, _c2, ctx.elementHasFocus[6]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"select\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_24_0 = ctx.formNewProduct.get(\"garanty\")) == null ? null : tmp_24_0.value) === \"Habilitada\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(66, _c2, ctx.elementHasFocus[9]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"select\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(68, _c2, ctx.elementHasFocus[15]))(\"ngStyle\", ctx.animationLabel(ctx.formNewProduct, \"select\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.building != undefined);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.routes.url.includes(\"nuevo\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.routes.url.includes(\"actualizar\"));\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", (ctx.popUp == null ? null : ctx.popUp.nativeElement.children[1].textContent) === \"\\u00BFEst\\u00E1s seguro?\");\n    }\n  },\n  dependencies: [i7.NgClass, i7.NgForOf, i7.NgIf, i7.NgStyle, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.RadioControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","DinamicInput","i0","NuevoProductoComponent","constructor","fb","routes","comunicatorSvc","categoriesSvc","empresaSvc","productsSvc","renderer","route","ngOnInit","setTimeout","ruta","url","slice","indexOf","title","push","lastIndexOf","decodeURI","toUpperCase","setTitleComponent","includes","paramMap","subscribe","params","id_product","Number","get","getProducto","next","res","console","log","Array","formNewProduct","setValue","barcode","name","mark","model","discount","garanty","expir","time_garanty","id_category","impuest","productToUpdate","changeModal","popUp","nativeElement","showModal","error","getCategories","categories","getBuildings","building","group","required","pattern","check_expir","setValidator","father","valueFather","son","value","setValidators","removeValidators","updateValueAndValidity","acept","close","children","textContent","submit","redirectToListProducts","validarUpdate","errorServer","msj","icon","content","update","updateProducto","navigate","setProducto","clean","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/productos/nuevo-producto/nuevo-producto.component.ts","/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/productos/nuevo-producto/nuevo-producto.component.html"],"sourcesContent":["import { Component, ElementRef, Renderer2, ViewChild } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { category, alert, building, product } from 'src/app/interfaces/interfaces';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { DinamicInput } from 'src/app/utils/DinamicInput';\nimport { CategoriasService } from '../../administracion/categorias/service/categorias.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { ProductosService } from '../productos-en-almacen/service/productos.service';\nimport { EmpresaService } from '../../configuraciones/service/empresa.service';\n\n@Component({\n  selector: 'app-nuevo-producto',\n  templateUrl: './nuevo-producto.component.html',\n  styleUrls: ['./nuevo-producto.component.css']\n})\nexport class NuevoProductoComponent extends DinamicInput {\n  formNewProduct!: FormGroup;\n  categories: category[] = []\n  vence: boolean = true\n  ruta!: string\n  building!: building\n  title: string[] = [];\n  id_product!: number;\n  productToUpdate!: product\n\n  @ViewChild('popup', { static: true }) override popUp?: ElementRef;\n\n  constructor(private fb: FormBuilder,\n    public routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    private categoriesSvc: CategoriasService,\n    private empresaSvc: EmpresaService,\n    private productsSvc: ProductosService,\n    protected override renderer: Renderer2,\n    private route: ActivatedRoute) {\n    super();\n  }\n  ngOnInit() {\n\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2);\n      this.title = []\n      if (this.ruta.indexOf(\"actualizar\")) {\n        this.title.push(\"fas fa-box fa-fw\");//aañado el icono del titulo al array\n      } else {\n        this.ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2, this.routes.url.lastIndexOf('/'));\n        this.title.push(\"fa fa-arrows-rotate\");\n      }\n      this.title.push(decodeURI(this.ruta).toUpperCase());//añado el titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n    if (this.routes.url.includes(\"actualizar\")) {\n      this.route.paramMap.subscribe((params: ParamMap) => {\n        this.id_product = Number(params.get('id_product'));\n        this.productsSvc.getProducto(this.id_product).subscribe({\n          next: res => {\n            console.log(res)\n            if\n              (res instanceof Array) {\n              this.formNewProduct.get('barcode')?.setValue(res[0].barcode)\n              this.formNewProduct.get('name')?.setValue(res[0].name)\n              this.formNewProduct.get('mark')?.setValue(res[0].mark)\n              this.formNewProduct.get('model')?.setValue(res[0].model)\n              this.formNewProduct.get('discount')?.setValue(res[0].discount)\n              this.formNewProduct.get('garanty')?.setValue(res[0].garanty)\n              this.formNewProduct.get('expir')?.setValue(res[0].expir)\n              this.formNewProduct.get('check_expir')?.setValue((res[0].expir === null) ? 'No vence' : 'Si vence')\n              this.formNewProduct.get('time_garanty')?.setValue(res[0].time_garanty)\n              this.formNewProduct.get('id_category')?.setValue(res[0].id_category)\n              this.formNewProduct.get('impuest')?.setValue(res[0].impuest)\n              this.productToUpdate = res[0]\n            } else {\n              this.changeModal(res)\n              this.popUp?.nativeElement.showModal()\n            }\n          },\n          error: (error: HttpErrorResponse) => {\n            this.error(error)\n          }\n        });\n      });\n    }\n    this.categoriesSvc.getCategories().subscribe(\n      res => { this.categories = res }\n    )\n    this.empresaSvc.getBuildings().subscribe(\n      res => { this.building = res[0] }\n    )\n    this.formNewProduct = this.fb.group(\n      {\n        barcode: new FormControl('', [Validators.required, Validators.pattern(/^[0-9]+$/)]),\n        name: new FormControl('', [Validators.required, Validators.pattern(/^[a-zA-Z ]+$/)]),\n        mark: new FormControl('', [Validators.pattern(/^[a-zA-Z ]+$/)]),\n        model: new FormControl('', [Validators.pattern(/^[a-zA-Z ]+$/)]),\n        discount: new FormControl('', [Validators.required, Validators.pattern(/^[0-9]+$/)]),\n        garanty: new FormControl('Habilitada', [Validators.required]),\n        expir: new FormControl(),\n        time_garanty: new FormControl(null),\n        id_category: new FormControl(0),\n        impuest: new FormControl(),\n        check_expir: new FormControl('Si vence')\n      }\n    )\n    this.setValidator('garanty','Habilitada','time_garanty')\n    this.setValidator('check_expir','Si vence','expir')\n  }\n  setValidator(father:string,valueFather:string, son:string) {\n    console.log(this.formNewProduct.get(father)?.value)\n    if (this.formNewProduct.get(father)?.value === valueFather){\n      this.formNewProduct.get(son)?.setValidators([Validators.required])\n    }else{\n      this.formNewProduct.get(son)?.removeValidators([Validators.required])\n    }\n    this.formNewProduct.get(son)?.updateValueAndValidity()\n  }\n  acept() {\n    this.popUp?.nativeElement.close();\n    if (this.popUp?.nativeElement.children[1].textContent === '¿Estás seguro?') {\n      if (this.ruta.indexOf(\"actualizar\")) {\n        this.submit()\n      } else if (this.popUp?.nativeElement.children[2].textContent.includes('¿desea continuar?')) {\n        this.redirectToListProducts();\n      } else {\n        this.validarUpdate()\n      }\n    } else if (this.popUp?.nativeElement.children[1].textContent.includes('Actualizado') &&\n      this.ruta.includes(\"actualizar\")) {\n      this.redirectToListProducts();\n    }\n  }\n  public error(error: HttpErrorResponse) {\n    this.changeModal(this.comunicatorSvc.errorServer(error))\n    this.popUp?.nativeElement.showModal()\n  }\n  validarUpdate() {\n    if (this.formNewProduct.get('barcode')?.value === this.productToUpdate.barcode &&\n      this.formNewProduct.get('name')?.value === this.productToUpdate.name &&\n      this.formNewProduct.get('mark')?.value === this.productToUpdate.mark &&\n      this.formNewProduct.get('model')?.value === this.productToUpdate.model &&\n      this.formNewProduct.get('discount')?.value === this.productToUpdate.discount &&\n      this.formNewProduct.get('garanty')?.value === this.productToUpdate.garanty &&\n      this.formNewProduct.get('expir')?.value === this.productToUpdate.expir &&\n      this.formNewProduct.get('time_garanty')?.value === this.productToUpdate.time_garanty &&\n      this.formNewProduct.get('id_category')?.value === this.productToUpdate.id_category &&\n      this.formNewProduct.get('impuest')?.value === this.productToUpdate.impuest &&\n      this.formNewProduct.get('check_expir')?.value === ((this.productToUpdate.expir === null) ? 'No vence' : 'Si vence')) {\n      let msj: alert = {\n        icon: '',\n        title: '¿Estás seguro?',\n        content: 'No ha modificado los datos del usuario ¿desea continuar?'\n      }\n      this.changeModal(msj)\n      this.popUp?.nativeElement.showModal()\n    } else {\n      this.update()\n    }\n  }\n  update() {\n    if (this.formNewProduct.get('check_expir')?.value === 'No vence')\n      this.formNewProduct.get('expir')?.setValue(null)\n    this.productsSvc.updateProducto(Number(this.id_product),\n      this.formNewProduct.value).subscribe({\n        next: res => {\n          console.log(res)\n          this.changeModal(res);\n          this.popUp?.nativeElement.showModal();\n        },\n        error: (error: HttpErrorResponse) => {\n          this.error(error);\n        }\n      })\n  }\n  redirectToListProducts() {\n    this.routes.navigate(['/productos/productos en almacen'])\n  }\n\n  submit() {\n    if (this.formNewProduct.get('check_expir')?.value === 'No vence')\n      this.formNewProduct.get('expir')?.setValue(null)\n    console.log(this.formNewProduct.value)\n    this.productsSvc.setProducto(this.formNewProduct.value).subscribe({\n      next: res => {\n        console.log(res)\n        this.changeModal(res);\n        this.popUp?.nativeElement.showModal()\n      },\n      error: (error: HttpErrorResponse) => {\n        this.error(error)\n      }\n    })\n  }\n  clean() {\n    this.formNewProduct.get('barcode')?.setValue('');\n    this.formNewProduct.get('name')?.setValue('');\n    this.formNewProduct.get('mark')?.setValue('');\n    this.formNewProduct.get('model')?.setValue('');\n    this.formNewProduct.get('discount')?.setValue('');\n    this.formNewProduct.get('timeUnit')?.setValue('');\n  }\n\n}\n","<div class=\"form-container\">\n    <h3 class=\"form-title\">\n        <i class=\"fa fa-barcode\"></i>\n        &nbsp;Código de barra\n    </h3>\n    <div class=\"form\" [formGroup]=\"formNewProduct\">\n        <div class=\"form-group\">\n            <div class=\"form-control\" \n            [ngClass]=\"{'input-on-focus-success':verifyStyleInput(formNewProduct,'barcode')&&\n            elementHasFocus[5],'input-on-focus-fail':!verifyStyleInput(formNewProduct,'barcode')}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-down':\n                elementHasFocus[5]&&positionLabel[5],\n                'label-on-focus-up':\n                elementHasFocus[5]&&!positionLabel[5]}\" [ngStyle]=\"animationLabel(formNewProduct,\n                'barcode')\">\n                    Código de barra\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <input formControlName=\"barcode\" (focus)=\"isFocused(5,formNewProduct,'barcode')\"\n                    (focusout)=\"isFocused(5,formNewProduct,'barcode')\" \n                    class=\"form-input\" [ngStyle]=\"styleForeground(formNewProduct,'barcode')\">\n            </div>\n        </div>\n        <h3 class=\"form-title\">\n            <i class=\"fas fa-box fa-fw\"></i>\n            &nbsp;Información del producto\n        </h3>\n        <div class=\"form-group\">\n            <div class=\"form-control\" \n            [ngClass]=\"{'input-on-focus-success':verifyStyleInput(formNewProduct,'name')&&\n            elementHasFocus[1],'input-on-focus-fail':!verifyStyleInput(formNewProduct,'name')}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-down':\n            elementHasFocus[1]&&positionLabel[1],\n            'label-on-focus-up':\n            elementHasFocus[1]&&!positionLabel[1]}\" [ngStyle]=\"animationLabel(formNewProduct,\n            'name')\">\n                    Nombre\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <input formControlName=\"name\" (focus)=\"isFocused(1,formNewProduct,'name')\"\n                    (focusout)=\"isFocused(1,formNewProduct,'name')\" \n                    class=\"form-input\" [ngStyle]=\"styleForeground(formNewProduct,'name')\">\n            </div>\n            <div class=\"form-control\" \n            [ngClass]=\"{'input-on-focus-success':verifyStyleInput(formNewProduct,'mark')&&\n            elementHasFocus[2],'input-on-focus-fail':!verifyStyleInput(formNewProduct,'mark')}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-down':\n                elementHasFocus[2]&&positionLabel[2],\n                'label-on-focus-up':\n                elementHasFocus[2]&&!positionLabel[2]}\" [ngStyle]=\"animationLabel(formNewProduct, 'mark')\">\n                    Marca\n                </label>\n                <input formControlName=\"mark\" (focus)=\"isFocused(2,formNewProduct,'mark')\"\n                    (focusout)=\"isFocused(2,formNewProduct,'mark')\" \n                    class=\"form-input\" [ngStyle]=\"styleForeground(formNewProduct,'mark')\">\n            </div>\n            <div class=\"form-control\" \n            [ngClass]=\"{'input-on-focus-success':verifyStyleInput(formNewProduct,'model')&&\n            elementHasFocus[3],'input-on-focus-fail':!verifyStyleInput(formNewProduct,'model')}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-down':\n                elementHasFocus[3]&&positionLabel[3],\n                'label-on-focus-up':\n                elementHasFocus[3]&&!positionLabel[3]}\" [ngStyle]=\"animationLabel(formNewProduct,\n                'model')\">\n                    Modelo\n                </label>\n                <input formControlName=\"model\" (focus)=\"isFocused(3,formNewProduct,'model')\"\n                    (focusout)=\"isFocused(3,formNewProduct,'model')\" \n                    class=\"form-input\" [ngStyle]=\"styleForeground(formNewProduct,'model')\">\n            </div>\n            <div class=\"form-control\" \n            [ngClass]=\"{'input-on-focus-success':verifyStyleInput(formNewProduct,'discount')&&\n            elementHasFocus[4],'input-on-focus-fail':!verifyStyleInput(formNewProduct,'discount')}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-down':\n                elementHasFocus[4]&&positionLabel[4],\n                'label-on-focus-up':\n                elementHasFocus[4]&&!positionLabel[4]}\" [ngStyle]=\"animationLabel(formNewProduct,\n                'discount')\">\n                    Descuento del producto (%)\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <input formControlName=\"discount\" (focus)=\"isFocused(4,formNewProduct,'discount')\"\n                    (focusout)=\"isFocused(4,formNewProduct,'discount')\" \n                    class=\"form-input\" [ngStyle]=\"styleForeground(formNewProduct,'discount')\">\n            </div>\n        </div>\n        <h3 class=\"form-title\">\n            <i class=\"fas fa-calendar-alt\"></i>\n            &nbsp;Vencimiento del producto\n        </h3>\n        <div class=\"form-group\">\n            <label class=\"ratio-buttons\">\n                <input (change)=\"setValidator('check_expir','Si vence','expir')\" \n                formControlName=\"check_expir\" type=\"radio\"  value=\"Si vence\" checked>\n                &nbsp;<i class=\"far fa-check-circle fa-fw\"></i>&nbsp;Si Vence\n            </label>\n        </div>\n        <div class=\"form-group\">\n            <label class=\"ratio-buttons\">\n                <input (change)=\"setValidator('check_expir','Si vence','expir')\" \n                 formControlName=\"check_expir\" type=\"radio\" value=\"No vence\">\n                &nbsp;<i class=\"far fa-times-circle fa-fw\"></i>&nbsp;No vence\n            </label>\n\n        </div>\n        <div class=\"form-group\" *ngIf=\"this.formNewProduct.get('check_expir')?.value==='Si vence'\">\n            <div class=\"form-control\" [ngClass]=\"{'input-on-focus':elementHasFocus[5]}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-up':\n                elementHasFocus[5]}\" [ngStyle]=\"animationLabel(formNewProduct,\n                'select')\">\n                    Fecha de vencimiento\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <input type= \"date\" formControlName=\"expir\" (focus)=\"isFocused(5,formNewProduct,\n                'select')\"\n                    (focusout)=\"isFocused(5,formNewProduct,'select')\" class=\"form-input\">\n            </div>\n        </div>\n        <h3 class=\"form-title\">\n            <i class=\"fas fa-history\"></i>\n            &nbsp;Garantia de fábrica\n        </h3>\n        <div class=\"form-group\">\n            <div class=\"form-control\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-up':\n                elementHasFocus[6]}\" [ngStyle]=\"animationLabel(formNewProduct,'select')\">\n                    Garantia\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <select (change)=\"setValidator('garanty','Habilitada','time_garanty')\" formControlName=\"garanty\" id=\"\" class=\"form-input\" (focus)=\"isFocused(6,formNewProduct,'select')\"\n                    (focusout)=\"isFocused(6,formNewProduct,'select')\">\n                    <option>Habilitada</option>\n                    <option>Deshabilitada</option>\n                </select>\n            </div>\n            \n            <div *ngIf=\"this.formNewProduct.get('garanty')?.value==='Habilitada'\" \n            class=\"form-control\" [ngClass]=\"{'input-on-focus':elementHasFocus[8]}\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-up':\n                elementHasFocus[8]}\" [ngStyle]=\"animationLabel(formNewProduct,'select')\">\n                    Fecha límite de garantía\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <input type=\"date\" formControlName=\"time_garanty\" \n                (focus)=\"isFocused(8,formNewProduct,'time_garanty')\"\n                (focusout)=\"isFocused(8,formNewProduct,'time_garanty')\" \n                class=\"form-input\">\n            </div>\n        </div>\n        <h3 class=\"form-title\">\n            <i class=\"fas fa-truck-loading\"></i>\n            Categoría & impuesto\n        </h3>\n        <div class=\"form-group\">\n            <div class=\"form-control\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-up':\n            elementHasFocus[9]}\" [ngStyle]=\"animationLabel(formNewProduct,'select')\">\n                    Categoría\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <select formControlName=\"id_category\" id=\"\" class=\"form-input\" (focus)=\"isFocused(9,formNewProduct,'select')\"\n                    (focusout)=\"isFocused(9,formNewProduct,'select')\">\n                    <option *ngFor=\"let category of categories\" \n                    value=\"{{category.id_category}}\">{{category.name}}</option>\n                </select>\n            </div>\n            <div class=\"form-control\">\n                <label class=\"form-label\" [ngClass]=\"{'label-on-focus-up':\n            elementHasFocus[15]}\" [ngStyle]=\"animationLabel(formNewProduct,'select')\">\n                    Impuesto\n                    <i class=\"fab fa-font-awesome-alt\"></i>\n                </label>\n                <select formControlName=\"impuest\" id=\"\" class=\"form-input\" (focus)=\"isFocused(15,formNewProduct,'select')\"\n                    (focusout)=\"isFocused(15,formNewProduct,'select')\">\n                    <option *ngIf=\"building!=undefined\" value={{building.tax_rate}}>\n                        {{building.name_tax.toUpperCase()}}</option>\n                    <option value=0>EXENTO</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"form-actions\">\n            <div *ngIf=\"this.routes.url.includes('nuevo')\">\n                <button class=\"form-button\" id=\"btn-success\" [ngClass]=\"{'btn-save':formNewProduct.valid}\"\n                    (click)=\"openModal(formNewProduct)\">\n                    <i class=\"far fa-save\"></i>\n                    &nbsp;&nbsp;ACEPTAR</button>\n                <button class=\"form-button btn-clean\" id=\"btn-clean\" (click)=\"clean()\">\n                    <i class=\"fas fa-paint-roller\"></i>\n                    &nbsp;&nbsp;LIMPIAR</button>\n            </div>\n            <div *ngIf=\"this.routes.url.includes('actualizar')\">\n                <button class=\"form-button\" [ngClass]=\"{'btn-update':formNewProduct.valid}\" \n                (click)=\"openModal(formNewProduct)\">\n                    <i class=\"fa fa-arrows-rotate\"></i>\n                    &nbsp;&nbsp;ACTUALIZAR</button>\n            </div>\n        </div>\n        <p class=\"form-info\">Los campos marcados con <i class=\"fab fa-font-awesome-alt\"></i> \n            son obligatorios</p>\n    </div>\n</div>\n<dialog class=\"dialog\" #popup>\n    <i class=\"fa fa-arrows-rotate\"></i>\n    <h3>¿Estás seguro?</h3>\n    <p>Lois datos seran guardados en el sistema</p>\n    <div>\n        <button class=\"form-button btn-save\" (click)=\"acept()\">\n            &nbsp;&nbsp;ACEPTAR</button>\n        <button *ngIf=\"this.popUp?.nativeElement.children[1].textContent === '¿Estás seguro?'\"\n         class=\"form-button btn-save\" (click)=\"cancel()\">\n            &nbsp;&nbsp;CANCELAR</button>\n    </div>\n</dialog>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}