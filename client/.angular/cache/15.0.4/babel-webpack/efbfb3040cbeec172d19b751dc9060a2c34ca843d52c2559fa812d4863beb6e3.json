{"ast":null,"code":"import { DinamicTable } from 'src/app/utils/DinamicTable';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/comunicator/comunicator-componets.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"ngx-currency\";\nconst _c0 = function () {\n  return {\n    prefix: \"\",\n    precision: 0,\n    align: \"left\"\n  };\n};\nconst _c1 = function (a0) {\n  return {\n    prefix: a0,\n    thousands: \",\",\n    decimal: \".\",\n    align: \"left\"\n  };\n};\nfunction DetallesCompraComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function DetallesCompraComponent_tr_24_Template_input_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.listProductsToBuy[i_r5].quantity_products = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\")(10, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function DetallesCompraComponent_tr_24_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const product_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(product_r4.buy_price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 9);\n    i0.ɵɵlistener(\"click\", function DetallesCompraComponent_tr_24_Template_td_click_14_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.openModalToDelete());\n    });\n    i0.ɵɵelement(15, \"i\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_6_0;\n    let tmp_7_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.barcode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", product_r4.name, \"\\u00A0\", product_r4.mark, \"\\u00A0\", product_r4.model, \"\\u00A0\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.listProductsToBuy[i_r5].quantity_products)(\"options\", i0.ɵɵpureFunction0(13, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", product_r4.buy_price)(\"options\", i0.ɵɵpureFunction1(14, _c1, ((tmp_6_0 = ctx_r1.formNewBuy.get(\"coin\")) == null ? null : tmp_6_0.value) + \" \"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(13, 10, ctx_r1.calcularSubtotal(product_r4, i_r5), ((tmp_7_0 = ctx_r1.formNewBuy.get(\"coin\")) == null ? null : tmp_7_0.value) + \" \"));\n  }\n}\nfunction DetallesCompraComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"td\")(2, \"td\")(3, \"td\")(4, \"td\");\n    i0.ɵɵelementStart(5, \"td\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 1, ctx_r2.calcularTotal(), ((tmp_0_0 = ctx_r2.formNewBuy.get(\"coin\")) == null ? null : tmp_0_0.value) + \" \"));\n  }\n}\nexport class DetallesCompraComponent extends DinamicTable {\n  constructor(routes, comunicatorSvc, renderer) {\n    super(renderer);\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.renderer = renderer;\n    this.title = [];\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2);\n      console.log(this.ruta);\n      this.title.push(decodeURI(this.ruta).toUpperCase()); //añado el titulo al array\n      this.title.push(\"fas fa-shopping-bag fa-fw\"); //aañado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n  }\n}\nDetallesCompraComponent.ɵfac = function DetallesCompraComponent_Factory(t) {\n  return new (t || DetallesCompraComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ComunicatorComponetsService), i0.ɵɵdirectiveInject(i0.Renderer2));\n};\nDetallesCompraComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetallesCompraComponent,\n  selectors: [[\"app-detalles-compra\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 43,\n  vars: 2,\n  consts: [[1, \"table-container\"], [1, \"table-title\"], [1, \"table-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [\"tab\", \"\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"currencyMask\", \"\", 1, \"input-table\", 3, \"ngModel\", \"options\", \"ngModelChange\"], [1, \"icon\", 3, \"click\"], [1, \"fa\", \"fa-trash-can\", \"delete\"]],\n  template: function DetallesCompraComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h6\");\n      i0.ɵɵtext(3, \"Productos a\\u00F1adidos a la compra\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"table\", 4)(7, \"thead\")(8, \"tr\")(9, \"th\");\n      i0.ɵɵtext(10, \"N\\u00B0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"C\\u00F3digo de barra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Precio de compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Sub total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"th\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"tbody\", null, 5);\n      i0.ɵɵtemplate(24, DetallesCompraComponent_tr_24_Template, 16, 16, \"tr\", 6);\n      i0.ɵɵtemplate(25, DetallesCompraComponent_tr_25_Template, 11, 4, \"tr\", 7);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(26, \"div\", 2)(27, \"div\", 3)(28, \"table\", 4)(29, \"thead\")(30, \"tr\")(31, \"th\");\n      i0.ɵɵtext(32, \"N\\u00B0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"th\");\n      i0.ɵɵtext(34, \"C\\u00F3digo de barra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"th\");\n      i0.ɵɵtext(36, \"Producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"th\");\n      i0.ɵɵtext(38, \"Fecha de vencimiento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"th\");\n      i0.ɵɵtext(40, \"Precio de venta\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(41, \"tbody\", null, 5);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.products.length > 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i5.CurrencyMaskDirective, i4.NgModel, i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,YAAY,QAAQ,4BAA4B;;;;;;;;;;;;;;;;;;;;;;;;;ICiBrCC,0BAAkD;IAC1CA,YAAO;IAAAA,iBAAK;IAChBA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAmE;IAAAA,iBAAK;IAC5EA,0BAAI;IACwCA;MAAA;MAAA;MAAA;MAAA,OAAaA,yEAC3E;IAAA,EADkH;IAA5FA,iBACwD;IAE5DA,0BAAI;IACwCA;MAAA;MAAA;MAAA,OAAaA,6CAAyB;IAAA,EAAP;IAAvEA,iBACwD;IAE5DA,2BAAI;IAAAA,aAA2E;;IAAAA,iBAAK;IACpFA,8BAA+C;IAA9BA;MAAAA;MAAA;MAAA,OAASA,yCAAmB;IAAA,EAAC;IAC1CA,yBAAsC;IAC1CA,iBAAK;;;;;;;;IAdDA,eAAO;IAAPA,8BAAO;IACPA,eAAmB;IAAnBA,wCAAmB;IACnBA,eAAmE;IAAnEA,2GAAmE;IAE3BA,eAAoD;IAApDA,0EAAoD;IAIpDA,eAA+B;IAA/BA,8CAA+B;IAGvEA,eAA2E;IAA3EA,yKAA2E;;;;;IAKnFA,0BAA8B;IAC1BA,qBAAS;IAITA,0BAAI;IAAQA,qBAAK;IAAAA,iBAAS;IAC1BA,0BAAI;IAAAA,YAA8D;;IAAAA,iBAAK;;;;;IAAnEA,eAA8D;IAA9DA,qJAA8D;;;ADjC1F,OAAM,MAAOC,uBAAwB,SAAQF,YAAY;EAGvDG,YAAoBC,MAAc,EACxBC,cAA2C,EACnCC,QAAmB;IACjC,KAAK,CAACA,QAAQ,CAAC;IAHC,WAAM,GAANF,MAAM;IAChB,mBAAc,GAAdC,cAAc;IACN,aAAQ,GAARC,QAAQ;IAH1B,UAAK,GAAW,EAAE;EAKhB;EAEFC,QAAQ;IACNC,UAAU,CAAC,MAAK;MACd;MACA,IAAI,CAACC,IAAI,GAAG,IAAI,CAACL,MAAM,CAACM,GAAG,CAACC,KAAK,CAAE,IAAI,CAACP,MAAM,CAACM,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,GAAG,CAAC,GAAI,CAAC,CAAC;MAC9EC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,IAAI,CAAC;MACtB,IAAI,CAACM,KAAK,CAACC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACR,IAAI,CAAC,CAACS,WAAW,EAAE,CAAC,CAAC;MACpD,IAAI,CAACH,KAAK,CAACC,IAAI,CAAC,2BAA2B,CAAC,CAAC;MAC7C,IAAI,CAACX,cAAc,CAACc,iBAAiB,CAAC,IAAI,CAACJ,KAAK,CAAC;IACnD,CAAC,CAAC;EAEJ;;AAnBWb,uBAAwB;mBAAxBA,uBAAuB;AAAA;AAAvBA,uBAAwB;QAAxBA,uBAAuB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVpCxB,8BAA6B;MAEjBA,mDAA8B;MAAAA,iBAAK;MAE3CA,8BAAwB;MAKAA,wBAAE;MAAAA,iBAAK;MACXA,2BAAI;MAAAA,qCAAe;MAAAA,iBAAK;MACxBA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,iCAAgB;MAAAA,iBAAK;MACzBA,2BAAI;MAAAA,0BAAS;MAAAA,iBAAK;MAClBA,sBAAS;MACbA,iBAAK;MAGTA,uCAAY;MACRA,0EAgBK;MACLA,yEAOK;MACTA,iBAAQ;MAIpBA,+BAAwB;MAKAA,wBAAE;MAAAA,iBAAK;MACXA,2BAAI;MAAAA,qCAAe;MAAAA,iBAAK;MACxBA,2BAAI;MAAAA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MAAAA,qCAAoB;MAAAA,iBAAK;MAC7BA,2BAAI;MAAAA,gCAAe;MAAAA,iBAAK;MAIhCA,kCAOQ;MACZA,iBAAQ;;;MAlDwBA,gBAAa;MAAbA,sCAAa;MAiBhCA,eAAuB;MAAvBA,8CAAuB","names":["DinamicTable","i0","DetallesCompraComponent","constructor","routes","comunicatorSvc","renderer","ngOnInit","setTimeout","ruta","url","slice","indexOf","console","log","title","push","decodeURI","toUpperCase","setTitleComponent","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/compras/detalles-compra/detalles-compra.component.ts","/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/compras/detalles-compra/detalles-compra.component.html"],"sourcesContent":["import { Component, Renderer2 } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { DinamicTable } from 'src/app/utils/DinamicTable';\n\n@Component({\n  selector: 'app-detalles-compra',\n  templateUrl: './detalles-compra.component.html',\n  styleUrls: ['./detalles-compra.component.css']\n})\nexport class DetallesCompraComponent extends DinamicTable{\n  ruta!: string\n  title: string[]=[]\n  constructor(private routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    public override renderer: Renderer2) { \n      super(renderer)\n    }\n\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2);\n      console.log(this.ruta)\n      this.title.push(decodeURI(this.ruta).toUpperCase());//añado el titulo al array\n      this.title.push(\"fas fa-shopping-bag fa-fw\");//aañado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n\n  }\n\n}\n","<div class=\"table-container\">\n    <div class=\"table-title\">\n        <h6>Productos añadidos a la compra</h6>\n    </div>\n    <div class=\"table-body\">\n        <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n                <thead>\n                    <tr>\n                        <th>N°</th>\n                        <th>Código de barra</th>\n                        <th>Producto</th>\n                        <th>Cantidad</th>\n                        <th>Precio de compra</th>\n                        <th>Sub total</th>\n                        <th></th>\n                    </tr>\n                </thead>\n\n                <tbody #tab>\n                    <tr *ngFor=\"let product of products; let i=index\">\n                        <td>{{i+1}}</td>\n                        <td>{{product.barcode}}</td>\n                        <td>{{product.name}}&nbsp;{{product.mark}}&nbsp;{{product.model}}&nbsp;</td>\n                        <td>\n                            <input currencyMask class=\"input-table\" [(ngModel)]=\"listProductsToBuy[i].quantity_products\"\n                                [options]=\"{ prefix: '',precision:0,align:'left' }\">\n                        </td>\n                        <td>\n                            <input currencyMask class=\"input-table\" [(ngModel)]=\"product.buy_price\" [options]=\"{ prefix: formNewBuy.get('coin')?.value+' ',\n                                     thousands: ',', decimal: '.',align:'left' }\" />\n                        </td>\n                        <td>{{calcularSubtotal(product,i) |currency:formNewBuy.get('coin')?.value+' '}}</td>\n                        <td class=\"icon\" (click)=\"openModalToDelete()\">\n                            <i class=\"fa fa-trash-can delete\"></i>\n                        </td>\n                    </tr>\n                    <tr *ngIf=\"products.length>0\">\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td><strong>Total</strong></td>\n                        <td>{{calcularTotal()|currency:formNewBuy.get('coin')?.value+' '}}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class=\"table-body\">\n        <div class=\"table-responsive\">\n            <table class=\"table table-bordered\">\n                <thead>\n                    <tr>\n                        <th>N°</th>\n                        <th>Código de barra</th>\n                        <th>Producto</th>\n                        <th>Fecha de vencimiento</th>\n                        <th>Precio de venta</th>\n                    </tr>\n                </thead>\n\n                <tbody #tab>\n                   <!--  <tr>\n                        <td>{{i+1}}</td>\n                        <td>{{product.barcode}}</td>\n                        <td>{{product.name}}&nbsp;{{product.mark}}&nbsp;{{product.model}}&nbsp;</td>\n                        \n                    </tr> -->\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}