{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/comunicator/comunicator-componets.service\";\nimport * as i3 from \"../../administracion/categorias/service/categorias.service\";\nimport * as i4 from \"../productos-en-almacen/service/productos.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../../../pipes/table-filter.pipe\";\nfunction ProductosPorCategoriaComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 7);\n    i0.ɵɵlistener(\"click\", function ProductosPorCategoriaComponent_li_6_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.selectedCategory(ctx_r5.productByCategory[i_r4].category, ctx_r5.productByCategory[i_r4].products));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.productByCategory[i_r4].category.name, \"\\u00A0\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.productByCategory[i_r4].products.length);\n  }\n}\nfunction ProductosPorCategoriaComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Categor\\u00EDa no seleccionada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Por favor seleccione una categor\\u00EDa para empezar a buscar productos.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductosPorCategoriaComponent_div_9_tr_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 36);\n    i0.ɵɵlistener(\"click\", function ProductosPorCategoriaComponent_div_9_tr_48_Template_td_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const product_r11 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.redirectToUpdate(product_r11));\n    });\n    i0.ɵɵelement(18, \"i\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 36);\n    i0.ɵɵlistener(\"click\", function ProductosPorCategoriaComponent_div_9_tr_48_Template_td_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const product_r11 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      ctx_r15.openModalToDelete();\n      return i0.ɵɵresetView(ctx_r15.productToDelete = product_r11);\n    });\n    i0.ɵɵelement(20, \"i\", 38);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r11 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r12 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r11.barcode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", product_r11.name, \" \\u00A0 \", product_r11.mark, \"\\u00A0\", product_r11.model, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r11.buy_price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r11.sell_price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r11.discount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r11.sell_quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r11.exist_quantity);\n  }\n}\nfunction ProductosPorCategoriaComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h6\");\n    i0.ɵɵtext(3, \"Productos en el almacen\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 13)(5, \"div\", 14)(6, \"div\", 15)(7, \"label\");\n    i0.ɵɵtext(8, \"Mostrar \");\n    i0.ɵɵelementStart(9, \"select\", 16);\n    i0.ɵɵlistener(\"change\", function ProductosPorCategoriaComponent_div_9_Template_select_change_9_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.createPages(ctx_r16.tableSearch, ctx_r16.currentData, ctx_r16.products));\n    });\n    i0.ɵɵelementStart(10, \"option\", 17);\n    i0.ɵɵtext(11, \"2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"option\", 18);\n    i0.ɵɵtext(13, \"10\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 19);\n    i0.ɵɵtext(15, \"25\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 20);\n    i0.ɵɵtext(17, \"50\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 21);\n    i0.ɵɵtext(19, \"100\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(20, \" entradas\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 22)(22, \"label\");\n    i0.ɵɵtext(23, \"Buscar: \");\n    i0.ɵɵelementStart(24, \"input\", 23);\n    i0.ɵɵlistener(\"keyup\", function ProductosPorCategoriaComponent_div_9_Template_input_keyup_24_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.createPages(ctx_r18.tableSearch, ctx_r18.currentData, ctx_r18.products));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(25, \"div\", 24)(26, \"table\", 25)(27, \"thead\")(28, \"tr\")(29, \"th\");\n    i0.ɵɵtext(30, \"N\\u00B0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"th\");\n    i0.ɵɵtext(32, \"C\\u00F3digo de barra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"th\");\n    i0.ɵɵtext(34, \"Descripcion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"th\");\n    i0.ɵɵtext(36, \"Precio de compra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"th\");\n    i0.ɵɵtext(38, \"precio de venta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"th\");\n    i0.ɵɵtext(40, \"Descuento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"th\");\n    i0.ɵɵtext(42, \"Vendidos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"th\");\n    i0.ɵɵtext(44, \"Existentes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(45, \"th\")(46, \"th\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"tbody\");\n    i0.ɵɵtemplate(48, ProductosPorCategoriaComponent_div_9_tr_48_Template, 21, 10, \"tr\", 26);\n    i0.ɵɵpipe(49, \"tableFilter\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(50, \"div\", 27);\n    i0.ɵɵelement(51, \"div\", 28, 29);\n    i0.ɵɵelementStart(53, \"div\", 30)(54, \"ul\", 31, 32)(56, \"li\", 33);\n    i0.ɵɵlistener(\"click\", function ProductosPorCategoriaComponent_div_9_Template_li_click_56_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.previousPage(ctx_r19.tableSearch, ctx_r19.currentData, ctx_r19.products));\n    });\n    i0.ɵɵtext(57, \" Previous \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"li\", 34, 35);\n    i0.ɵɵlistener(\"click\", function ProductosPorCategoriaComponent_div_9_Template_li_click_58_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.nextPage(ctx_r20.tableSearch, ctx_r20.currentData, ctx_r20.products));\n    });\n    i0.ɵɵtext(60, \" Next \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.tableSearch);\n    i0.ɵɵadvance(43);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(49, 8, ctx_r2.products, ctx_r2.getValuesToPipe(ctx_r2.tableSearch)));\n    i0.ɵɵadvance(8);\n    i0.ɵɵclassProp(\"disable\", ctx_r2.getValuesToPipe(ctx_r2.tableSearch).indexCurrentPage === 0)(\"active\", ctx_r2.getValuesToPipe(ctx_r2.tableSearch).indexCurrentPage != 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disable\", ctx_r2.getValuesToPipe(ctx_r2.tableSearch).indexCurrentPage === ctx_r2.numberPages - 1);\n  }\n}\nexport class ProductosPorCategoriaComponent {\n  constructor(routes, comunicatorSvc, categoriesSvc, productsSvc) {\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.categoriesSvc = categoriesSvc;\n    this.productsSvc = productsSvc;\n    this.categories = [];\n    this.productByCategory = [];\n    this.selected = false;\n  }\n  ngOnInit() {\n    let title = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2);\n      title.push(\"fas fa-box fa-fw\"); //aañado el icono del titulo al array\n      title.push(decodeURI(ruta).toUpperCase()); //añado el titulo al array\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.categoriesSvc.getCategories().subscribe({\n      next: categories => {\n        this.categories = categories;\n      },\n      complete: () => {\n        this.categories.forEach(category => {\n          this.productsSvc.getProductoByCategory(category.id_category).subscribe(products => {\n            if (products instanceof Array) {\n              this.productByCategory.push({\n                category,\n                products\n              });\n            } else {\n              products = [];\n              this.productByCategory.push({\n                category,\n                products\n              });\n            }\n          });\n        });\n      }\n    });\n  }\n  selectedCategory(category, products) {\n    this.selected = true;\n    console.log(category.name);\n    console.log(products);\n  }\n}\nProductosPorCategoriaComponent.ɵfac = function ProductosPorCategoriaComponent_Factory(t) {\n  return new (t || ProductosPorCategoriaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ComunicatorComponetsService), i0.ɵɵdirectiveInject(i3.CategoriasService), i0.ɵɵdirectiveInject(i4.ProductosService));\n};\nProductosPorCategoriaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductosPorCategoriaComponent,\n  selectors: [[\"app-productos-por-categoria\"]],\n  decls: 10,\n  vars: 3,\n  consts: [[1, \"main-container\"], [1, \"left-container\"], [1, \"fas\", \"fa-tags\"], [\"class\", \"option\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"right-container\"], [\"class\", \"presentation\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIF\"], [1, \"option\", 3, \"click\"], [1, \"badge\"], [1, \"presentation\"], [1, \"fab\", \"fa-shopify\", \"fa-fw\", \"fa-5x\"], [1, \"table-container\"], [1, \"table-title\"], [1, \"table-body\"], [1, \"search-pagination\", 3, \"formGroup\"], [1, \"dataTable-length\"], [\"name\", \"dataTable_length\", \"formControlName\", \"numberRows\", 1, \"custom-select\", 3, \"change\"], [\"value\", \"2\"], [\"value\", \"10\"], [\"value\", \"25\"], [\"value\", \"50\"], [\"value\", \"100\"], [1, \"dataTable-filter\"], [\"formControlName\", \"search\", 1, \"input-search\", \"dataTable-filter\", 3, \"keyup\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"], [1, \"search-pagination\"], [1, \"dataTables_info\"], [\"dataTables_info\", \"\"], [1, \"pagination-responsive\"], [1, \"pagination\"], [\"pagination\", \"\"], [1, \"previous\", \"page-item\", \"dataTables_info\", \"items\", 3, \"click\"], [1, \"next\", \"dataTables_info\", \"active\", \"items\", 3, \"click\"], [\"next\", \"\"], [1, \"icon\", 3, \"click\"], [1, \"fa\", \"fa-arrows-rotate\", \"update\"], [1, \"fa\", \"fa-trash-can\", \"delete\"]],\n  template: function ProductosPorCategoriaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵelement(3, \"i\", 2);\n      i0.ɵɵtext(4, \" \\u00A0CATEGOR\\u00CDAS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ul\");\n      i0.ɵɵtemplate(6, ProductosPorCategoriaComponent_li_6_Template, 4, 2, \"li\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4);\n      i0.ɵɵtemplate(8, ProductosPorCategoriaComponent_div_8_Template, 6, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, ProductosPorCategoriaComponent_div_9_Template, 61, 11, \"div\", 6);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.productByCategory);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.selected);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIF\", ctx.selected);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.FormControlName, i7.TableFilterPipe],\n  styles: [\".main-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 100%;\\n  min-height: 75%;\\n  background-color: white;\\n  border: 1px solid #D8D8D8;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.left-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 25%;\\n  border-right: 1px solid #D8D8D8;\\n}\\n\\n.left-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .left-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.6rem;\\n  color: #0366D6;\\n}\\n\\n.left-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-weight: 200;\\n  border-bottom: 1px solid #D8D8D8;\\n  margin: 0px;\\n  margin-top: 20px;\\n  width: 100%;\\n  height: 40px;\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  list-style: none;\\n  margin: 0px;\\n  padding: 0px;\\n  width: 100%;\\n}\\n\\n.option[_ngcontent-%COMP%] {\\n  height: 3.5rem;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n}\\n.option[_ngcontent-%COMP%]:hover{\\n  border-left: 4px solid #0366D6;\\n}\\n\\n.badge[_ngcontent-%COMP%]{\\n  text-align: center;\\n  color: white ;\\n  background-color: #03a9f4;\\n  padding:0px  10px;\\n  border-radius: 10px;\\n  font-size: 1.08rem;\\n}\\n\\n.right-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 75%;\\n  border-left: 1px solid #D8D8D8;\\n}\\n\\n.presentation[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  color: #009688;\\n}\\n\\n.presentation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  font-weight: 200;\\n  margin: 0px;\\n  margin-top: 20px;\\n}\\n\\n.presentation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0px;\\n  margin-top: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGVudC9wcm9kdWN0b3MvcHJvZHVjdG9zLXBvci1jYXRlZ29yaWEvcHJvZHVjdG9zLXBvci1jYXRlZ29yaWEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixXQUFXO0VBQ1gsZUFBZTtFQUNmLHVCQUF1QjtFQUN2Qix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtFQUNuQixVQUFVO0VBQ1YsK0JBQStCO0FBQ2pDOztBQUVBOztFQUVFLGlCQUFpQjtFQUNqQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQ0FBZ0M7RUFDaEMsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsY0FBYztFQUNkLFdBQVc7RUFDWCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLFVBQVU7RUFDViw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsZUFBZTtBQUNqQiIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHdpZHRoOiAxMDAlO1xuICBtaW4taGVpZ2h0OiA3NSU7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IDFweCBzb2xpZCAjRDhEOEQ4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbn1cblxuLmxlZnQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2lkdGg6IDI1JTtcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI0Q4RDhEODtcbn1cblxuLmxlZnQtY29udGFpbmVyIGgzLFxuLmxlZnQtY29udGFpbmVyIGgzIGkge1xuICBmb250LXNpemU6IDEuNnJlbTtcbiAgY29sb3I6ICMwMzY2RDY7XG59XG5cbi5sZWZ0LWNvbnRhaW5lciBoMyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC13ZWlnaHQ6IDIwMDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNEOEQ4RDg7XG4gIG1hcmdpbjogMHB4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0MHB4O1xufVxuXG51bCB7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG4gIG1hcmdpbjogMHB4O1xuICBwYWRkaW5nOiAwcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ub3B0aW9uIHtcbiAgaGVpZ2h0OiAzLjVyZW07XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLm9wdGlvbjpob3ZlcntcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMDM2NkQ2O1xufVxuXG4uYmFkZ2V7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHdoaXRlIDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAzYTlmNDtcbiAgcGFkZGluZzowcHggIDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMS4wOHJlbTtcbn1cblxuLnJpZ2h0LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogNzUlO1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNEOEQ4RDg7XG59XG5cbi5wcmVzZW50YXRpb24ge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGNvbG9yOiAjMDA5Njg4O1xufVxuXG4ucHJlc2VudGF0aW9uIGgzIHtcbiAgZm9udC1zaXplOiAxLjhyZW07XG4gIGZvbnQtd2VpZ2h0OiAyMDA7XG4gIG1hcmdpbjogMHB4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4ucHJlc2VudGF0aW9uIHAge1xuICBtYXJnaW46IDBweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ctx_r15","ProductosPorCategoriaComponent","constructor","routes","comunicatorSvc","categoriesSvc","productsSvc","ngOnInit","title","ruta","setTimeout","url","slice","indexOf","push","decodeURI","toUpperCase","setTitleComponent","getCategories","subscribe","next","categories","complete","forEach","category","getProductoByCategory","id_category","products","Array","productByCategory","selectedCategory","selected","console","log","name","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/productos/productos-por-categoria/productos-por-categoria.component.html","/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/productos/productos-por-categoria/productos-por-categoria.component.ts"],"sourcesContent":["<div class=\"main-container\">\n    <div class=\"left-container\">\n        <h3><i class=\"fas fa-tags\"></i> &nbsp;CATEGORÍAS</h3>\n        <ul>\n            <li \n            (click)=\"selectedCategory(productByCategory[i].category,productByCategory[i].products)\"\n             class=\"option\" *ngFor=\"let category of productByCategory;let i =index\">\n                {{productByCategory[i].category.name}}&nbsp;<span class=\"badge\">{{productByCategory[i].products.length}}</span>\n            </li>\n        </ul>\n    </div>\n    <div class=\"right-container\">\n        <div class=\"presentation\" *ngIf=\"!selected\">\n            <i class=\"fab fa-shopify fa-fw fa-5x\"></i>\n            <h3>Categoría no seleccionada</h3>\n            <p>Por favor seleccione una categoría para empezar a buscar productos.</p>\n        </div>\n    </div>\n    <div class=\"table-container\" *ngIF=\"selected\">\n        <div class=\"table-title\">\n            <h6>Productos en el almacen</h6>\n        </div>\n        <div class=\"table-body\">\n            <div class=\"search-pagination\" [formGroup]=\"tableSearch\">\n                <div class=\"dataTable-length\">\n                    <label>Mostrar\n                        <select name=\"dataTable_length\" \n                        formControlName=\"numberRows\" \n                        class=\"custom-select\"\n                            (change)=\"createPages(tableSearch,currentData,products)\">\n                            <option value=\"2\">2</option>\n                            <option value=\"10\">10</option>\n                            <option value=\"25\">25</option>\n                            <option value=\"50\">50</option>\n                            <option value=\"100\">100</option>\n                        </select> entradas</label>\n                </div>\n                <div class=\"dataTable-filter\">\n                    <label>Buscar:\n                        <input formControlName=\"search\" \n                        class=\"input-search dataTable-filter\" \n                        (keyup)=\"createPages(tableSearch,currentData,products)\">\n                    </label>\n                </div>\n            </div>\n            <div class=\"table-responsive\">\n                <table class=\"table table-bordered\" >\n                    <thead>\n                        <tr>\n                            <th>N°</th>\n                            <th>Código de barra</th>\n                            <th>Descripcion</th>\n                            <th>Precio de compra</th>\n                            <th>precio de venta</th>\n                            <th>Descuento</th>\n                            <th>Vendidos</th>\n                            <th>Existentes</th>\n                            <th></th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    \n                    <tbody>\n                        <tr *ngFor=\"let product of products | \n                        tableFilter:getValuesToPipe(tableSearch);let i=index\">\n                        <td>{{i+1}}</td>\n                        <td>{{product.barcode}}</td>\n                        <td>{{product.name}} &nbsp; {{product.mark}}&nbsp;{{product.model}}</td>\n                        <th>{{product.buy_price}}</th>\n                        <th>{{product.sell_price}}</th>\n                        <th>{{product.discount}}</th>\n                        <th>{{product.sell_quantity}}</th>\n                        <th>{{product.exist_quantity}}</th>\n                        <td class=\"icon\" (click)=\"redirectToUpdate(product)\"><i class=\"fa fa-arrows-rotate update\"></i></td>\n                        <td class=\"icon\"(click)=\"openModalToDelete(); productToDelete=product\">\n                            <i class=\"fa fa-trash-can delete\"></i></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"search-pagination\">\n                <div class=\"dataTables_info\" #dataTables_info>\n                </div>\n                <div class=\"pagination-responsive\">\n                    <ul class=\"pagination\" #pagination>\n                        <li class=\"previous page-item dataTables_info items\"\n                            [class.disable]=\"getValuesToPipe(tableSearch).indexCurrentPage===0\"\n                            [class.active]=\"getValuesToPipe(tableSearch).indexCurrentPage!=0\" \n                            (click)=\"previousPage(tableSearch,currentData,products)\">\n                            Previous\n                        </li>\n    \n                        <li class=\"next dataTables_info active items\" #next\n                            [class.disable]=\"getValuesToPipe(tableSearch).indexCurrentPage===numberPages-1\" \n                            (click)=\"nextPage(tableSearch,currentData,products)\">\n                            Next\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { category, product, productByCategory } from 'src/app/interfaces/interfaces';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { CategoriasService } from '../../administracion/categorias/service/categorias.service';\nimport { ProductosService } from '../productos-en-almacen/service/productos.service';\n\n@Component({\n  selector: 'app-productos-por-categoria',\n  templateUrl: './productos-por-categoria.component.html',\n  styleUrls: ['./productos-por-categoria.component.css']\n})\nexport class ProductosPorCategoriaComponent {\n  categories: category[] = []\n  productByCategory: productByCategory[] = []\n  selected:boolean=false\n\n  constructor(private routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    private categoriesSvc: CategoriasService,\n    private productsSvc: ProductosService) { }\n\n  ngOnInit() {\n    let title: string[] = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2);\n      title.push(\"fas fa-box fa-fw\");//aañado el icono del titulo al array\n      title.push(decodeURI(ruta).toUpperCase());//añado el titulo al array\n\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.categoriesSvc.getCategories().subscribe({\n      next: categories => { this.categories = categories },\n      complete: () => {\n        this.categories.forEach((category: category) => {\n          this.productsSvc.getProductoByCategory(category.id_category).subscribe(\n            products => {\n              if (products instanceof Array) {\n                this.productByCategory.push({ category, products })\n              } else {\n                products = []\n                this.productByCategory.push({ category, products })\n              }\n            }\n          )\n        });\n      }\n    });\n  }\n\n  selectedCategory(category:category,products:product[]) {\n    this.selected=true\n    console.log(category.name)\n    console.log(products)\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}