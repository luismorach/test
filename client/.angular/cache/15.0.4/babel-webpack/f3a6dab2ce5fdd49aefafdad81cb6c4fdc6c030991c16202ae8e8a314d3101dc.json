{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { DinamicInput } from 'src/app/utils/DinamicInput';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/comunicator/comunicator-componets.service\";\nimport * as i3 from \"../service/compras.service\";\nimport * as i4 from \"../../administracion/proveedores/service/proveedores.service\";\nimport * as i5 from \"../../administracion/usuarios/service/usuarios.service\";\nimport * as i6 from \"../../productos/productos-en-almacen/service/productos.service\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/common\";\nconst _c0 = [\"quantity\"];\nfunction DetallesCompraComponent_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"FECHA:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ctx_r0.buy.time, \"dd/MM/yyyy\"), \"\");\n  }\n}\nfunction DetallesCompraComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"COMPRA REGISTRADA POR:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r1.user.names, \" \", ctx_r1.user.last_names, \"\");\n  }\n}\nfunction DetallesCompraComponent_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"PROVEEDOR:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r2.provider.name_provider, \" \", ctx_r2.provider.address_provider, \"\");\n  }\n}\nfunction DetallesCompraComponent_tr_35_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r9 = i0.ɵɵnextContext().index;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r10.products[i_r9].barcode);\n  }\n}\nfunction DetallesCompraComponent_tr_35_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r9 = i0.ɵɵnextContext().index;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", ctx_r11.products[i_r9].name, \"\\u00A0\", ctx_r11.products[i_r9].mark, \"\\u00A0\", ctx_r11.products[i_r9].model, \"\\u00A0\");\n  }\n}\nfunction DetallesCompraComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, DetallesCompraComponent_tr_35_td_3_Template, 2, 1, \"td\", 2);\n    i0.ɵɵtemplate(4, DetallesCompraComponent_tr_35_td_4_Template, 2, 3, \"td\", 2);\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 26);\n    i0.ɵɵlistener(\"click\", function DetallesCompraComponent_tr_35_Template_td_click_13_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.quantityBack == null ? null : ctx_r14.quantityBack.nativeElement.showModal());\n    });\n    i0.ɵɵelement(14, \"i\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const buy_product_r8 = ctx.$implicit;\n    const i_r9 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r9 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.products[i_r9] != undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.products[i_r9] != undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", buy_product_r8.quantity_products, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 6, buy_product_r8.buy_price, ctx_r4.buy.coin + \" \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 9, buy_product_r8.quantity_products * buy_product_r8.buy_price, ctx_r4.buy.coin + \" \"));\n  }\n}\nfunction DetallesCompraComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"td\")(2, \"td\")(3, \"td\")(4, \"td\");\n    i0.ɵɵelementStart(5, \"td\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"td\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 1, ctx_r5.calcularTotal(), ctx_r5.buy.coin + \" \"));\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"input-on-focus-success\": a0,\n    \"input-on-focus-fail\": a1\n  };\n};\nconst _c2 = function (a0, a1) {\n  return {\n    \"label-on-focus-down\": a0,\n    \"label-on-focus-up\": a1\n  };\n};\nconst _c3 = function (a0) {\n  return {\n    \"enable\": a0\n  };\n};\nexport class DetallesCompraComponent extends DinamicInput {\n  constructor(routes, comunicatorSvc, renderer, route, comprasSvc, proveedoresSvc, usuariosSvc, productosSvc, fb) {\n    super();\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.renderer = renderer;\n    this.route = route;\n    this.comprasSvc = comprasSvc;\n    this.proveedoresSvc = proveedoresSvc;\n    this.usuariosSvc = usuariosSvc;\n    this.productosSvc = productosSvc;\n    this.fb = fb;\n    this.title = [];\n    this.buy_products = [];\n    this.products = [];\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2, this.routes.url.lastIndexOf('?'));\n      this.title.push(decodeURI(this.ruta).toUpperCase()); //añado el titulo al array\n      this.title.push(\"fas fa-shopping-bag fa-fw\"); //aañado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n    this.route.queryParams.subscribe(params => {\n      this.comprasSvc.getBuy(params['id_buy']).subscribe(res => {\n        if (res instanceof Array) {\n          this.buy = res[0];\n          this.proveedoresSvc.getProvider(this.buy.id_provider).subscribe(res => {\n            if (res instanceof Array) {\n              this.provider = res[0];\n            }\n          });\n          this.usuariosSvc.getUser(this.buy.id_user).subscribe(res => {\n            if (res instanceof Array) {\n              this.user = res[0];\n            }\n          });\n          console.log(params['id_buy']);\n          this.comprasSvc.getProductsBuy(params['id_buy']).subscribe(res => {\n            console.log(res);\n            if (res instanceof Array) {\n              this.buy_products = res;\n              this.buy_products.forEach(buy_product => {\n                this.productosSvc.getProducto(buy_product.id_product).subscribe(res => {\n                  if (res instanceof Array) {\n                    this.products.push(res[0]);\n                  }\n                });\n              });\n            }\n          });\n        }\n      });\n    });\n    this.formDevolucion = this.fb.group({\n      quantity_back: new FormControl('')\n    });\n  }\n  calcularTotal() {\n    let total = 0;\n    this.buy_products.forEach(buy_product => {\n      total += buy_product.buy_price * buy_product.quantity_products;\n    });\n    return total;\n  }\n  redirectToComprasRealizadas() {\n    this.routes.navigate(['/compras/compras realizadas']);\n  }\n}\nDetallesCompraComponent.ɵfac = function DetallesCompraComponent_Factory(t) {\n  return new (t || DetallesCompraComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ComunicatorComponetsService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ComprasService), i0.ɵɵdirectiveInject(i4.ProveedoresService), i0.ɵɵdirectiveInject(i5.UsuariosService), i0.ɵɵdirectiveInject(i6.ProductosService), i0.ɵɵdirectiveInject(i7.FormBuilder));\n};\nDetallesCompraComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetallesCompraComponent,\n  selectors: [[\"app-detalles-compra\"]],\n  viewQuery: function DetallesCompraComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.quantityBack = _t.first);\n    }\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 81,\n  vars: 19,\n  consts: [[1, \"form-container\"], [1, \"datos\"], [4, \"ngIf\"], [1, \"form-button\", \"btn-save\", 3, \"click\"], [1, \"fas\", \"fa-reply\"], [1, \"table-container\"], [1, \"table-title\"], [1, \"table-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [\"tab\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"quantity\"], [\"quantity\", \"\"], [1, \"header\"], [1, \"title\"], [1, \"btn-cerrar-dialog\", 3, \"click\"], [1, \"form\", 3, \"formGroup\"], [1, \"form-control\", 3, \"ngClass\"], [1, \"form-label\", 3, \"ngClass\", \"ngStyle\"], [\"formControlName\", \"quantity_back\", 1, \"form-input\", 3, \"ngStyle\", \"focus\", \"focusout\"], [1, \"form-actions\"], [1, \"form-button\", \"btn\", 3, \"ngClass\"], [1, \"fas\", \"fa-truck-loading\", \"fa-fw\"], [1, \"form-button\", \"btn\", \"enable\", 2, \"color\", \"#f44336\", 3, \"click\"], [1, \"far\", \"fa-times-circle\"], [1, \"icon\", 3, \"click\"], [1, \"fas\", \"fa-truck-loading\", \"fa-fw\", 2, \"color\", \"#009688\"]],\n  template: function DetallesCompraComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\");\n      i0.ɵɵtemplate(3, DetallesCompraComponent_p_3_Template, 5, 4, \"p\", 2);\n      i0.ɵɵtemplate(4, DetallesCompraComponent_p_4_Template, 4, 2, \"p\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵtemplate(6, DetallesCompraComponent_p_6_Template, 4, 2, \"p\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function DetallesCompraComponent_Template_button_click_7_listener() {\n        return ctx.redirectToComprasRealizadas();\n      });\n      i0.ɵɵelement(8, \"i\", 4);\n      i0.ɵɵtext(9, \" \\u00A0Regresar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 5)(11, \"div\", 6)(12, \"h6\");\n      i0.ɵɵtext(13, \"productos comprados\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 7)(15, \"div\", 8)(16, \"table\", 9)(17, \"thead\")(18, \"tr\")(19, \"th\");\n      i0.ɵɵtext(20, \"N\\u00B0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"C\\u00F3digo de barra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\");\n      i0.ɵɵtext(24, \"Producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\");\n      i0.ɵɵtext(26, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"th\");\n      i0.ɵɵtext(28, \"Precio de compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"th\");\n      i0.ɵɵtext(30, \"Sub total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"th\");\n      i0.ɵɵtext(32, \"Devoluci\\u00F3n\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"tbody\", null, 10);\n      i0.ɵɵtemplate(35, DetallesCompraComponent_tr_35_Template, 15, 12, \"tr\", 11);\n      i0.ɵɵtemplate(36, DetallesCompraComponent_tr_36_Template, 12, 4, \"tr\", 2);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(37, \"div\", 5)(38, \"div\", 6)(39, \"h6\");\n      i0.ɵɵtext(40, \"Devoluciones realizadas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 7)(42, \"div\", 8)(43, \"table\", 9)(44, \"thead\")(45, \"tr\")(46, \"th\");\n      i0.ɵɵtext(47, \"N\\u00B0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"th\");\n      i0.ɵɵtext(49, \"C\\u00F3digo de barra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"th\");\n      i0.ɵɵtext(51, \"buy_producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"th\");\n      i0.ɵɵtext(53, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"th\");\n      i0.ɵɵtext(55, \"Precio de compra\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"th\");\n      i0.ɵɵtext(57, \"Sub total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"th\");\n      i0.ɵɵtext(59, \"Devoluci\\u00F3n\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(60, \"tbody\", null, 10);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(62, \"dialog\", 12, 13)(64, \"div\", 14)(65, \"h2\", 15);\n      i0.ɵɵtext(66, \"Realizar devoluci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function DetallesCompraComponent_Template_button_click_67_listener() {\n        return ctx.cancel(ctx.quantityBack);\n      });\n      i0.ɵɵtext(68, \"x\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(69, \"div\", 17)(70, \"div\", 18)(71, \"label\", 19);\n      i0.ɵɵtext(72, \" Cantidad a devolver \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"input\", 20);\n      i0.ɵɵlistener(\"focus\", function DetallesCompraComponent_Template_input_focus_73_listener() {\n        return ctx.isFocused(7, ctx.formDevolucion, \"quantity_back\");\n      })(\"focusout\", function DetallesCompraComponent_Template_input_focusout_73_listener() {\n        return ctx.isFocused(7, ctx.formDevolucion, \"quantity_back\");\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(74, \"div\", 21)(75, \"button\", 22);\n      i0.ɵɵelement(76, \"i\", 23);\n      i0.ɵɵtext(77, \" \\u00A0\\u00A0REALIZAR DEVOLUCI\\u00D3N\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(78, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function DetallesCompraComponent_Template_button_click_78_listener() {\n        return ctx.cancel(ctx.quantityBack);\n      });\n      i0.ɵɵelement(79, \"i\", 25);\n      i0.ɵɵtext(80, \" \\u00A0\\u00A0CANCELAR\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      let tmp_10_0;\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.buy != undefined);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user != undefined);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.provider != undefined);\n      i0.ɵɵadvance(29);\n      i0.ɵɵproperty(\"ngForOf\", ctx.buy_products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.buy_products.length > 0);\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"formGroup\", ctx.formDevolucion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c1, ctx.verifyStyleInput(ctx.formDevolucion, \"quantity_back\") && ctx.elementHasFocus[7], !ctx.verifyStyleInput(ctx.formDevolucion, \"quantity_back\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(14, _c2, ctx.elementHasFocus[7] && ctx.positionLabel[7], ctx.elementHasFocus[7] && !ctx.positionLabel[7]))(\"ngStyle\", ctx.animationLabel(ctx.formDevolucion, \"quantity_back\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", ctx.styleForeground(ctx.formDevolucion, \"quantity_back\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c3, ((tmp_10_0 = ctx.formDevolucion.get(\"quantity_back\")) == null ? null : tmp_10_0.value.length) > 0));\n    }\n  },\n  dependencies: [i8.NgClass, i8.NgForOf, i8.NgIf, i8.NgStyle, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.FormGroupDirective, i7.FormControlName, i8.CurrencyPipe, i8.DatePipe],\n  styles: [\".datos[_ngcontent-%COMP%]{\\n    width: 100%;\\n    display: flex;\\n    justify-content: space-between;\\n    flex-grow: 0;\\n}\\n.datos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{\\n    width: 50%;\\n}\\n.datos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{\\n    width: 100%;\\n    display: flex;\\n    justify-content: space-between;\\n    flex-wrap: wrap;\\n}\\n.datos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\n   height:15px;\\n   width:100px;\\n}\\n.quantity[_ngcontent-%COMP%]{\\n    width: 30%;\\n    border: none;\\n  }\\n  .quantity[_ngcontent-%COMP%]::-webkit-backdrop{\\n    background-color: rgba(0, 0, 0, .5);\\n  }\\n  .quantity[_ngcontent-%COMP%]::backdrop{\\n    background-color: rgba(0, 0, 0, .5);\\n  }\\n  .quantity[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{\\n      width: 95%;\\n  }\\n  .header[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n  }\\n  \\n  .form-actions[_ngcontent-%COMP%]{\\n    justify-content: right;\\n  }\\n  .btn[_ngcontent-%COMP%] {\\n    all: unset;\\n    min-width: 70px;\\n    padding: .8rem 1rem;\\n    margin: 0rem 0rem;\\n    margin-top: 1rem;\\n    border-radius: .3rem;\\n    font-size: .8125rem;\\n    text-align: center;\\n    cursor: not-allowed;\\n    outline: 0;\\n    font-size: 1rem;\\n    color: #676d74;\\n  }\\n  \\n  .enable[_ngcontent-%COMP%]:hover {\\n    background-color: #EBEBEB;\\n  }\\n  .btn-cerrar-dialog[_ngcontent-%COMP%] {\\n    all: unset;\\n    padding: .1rem 1rem;\\n    border-radius: .1rem;\\n    background-color: transparent;\\n    font-size: 1.5rem;\\n    font-weight: 800;\\n    text-shadow: 0 1px 0 #fff;\\n    opacity: .5;\\n    cursor: pointer;\\n    color: black;\\n    -webkit-appearance: none;\\n            appearance: none;\\n  }\\n  .btn-cerrar-dialog[_ngcontent-%COMP%]:hover{\\n    opacity: 1;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGVudC9jb21wcmFzL2RldGFsbGVzLWNvbXByYS9kZXRhbGxlcy1jb21wcmEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLFlBQVk7QUFDaEI7QUFDQTtJQUNJLFVBQVU7QUFDZDtBQUNBO0lBQ0ksV0FBVztJQUNYLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsZUFBZTtBQUNuQjtBQUNBO0dBQ0csV0FBVztHQUNYLFdBQVc7QUFDZDtBQUNBO0lBQ0ksVUFBVTtJQUNWLFlBQVk7RUFDZDtFQUNBO0lBQ0UsbUNBQW1DO0VBQ3JDO0VBRkE7SUFDRSxtQ0FBbUM7RUFDckM7RUFDQTtNQUNJLFVBQVU7RUFDZDtFQUNBO0lBQ0UsYUFBYTtJQUNiLDhCQUE4QjtFQUNoQzs7RUFFQTtJQUNFLHNCQUFzQjtFQUN4QjtFQUNBO0lBQ0UsVUFBVTtJQUNWLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsVUFBVTtJQUNWLGVBQWU7SUFDZixjQUFjO0VBQ2hCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCO0VBQ0E7SUFDRSxVQUFVO0lBQ1YsbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQiw2QkFBNkI7SUFDN0IsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsV0FBVztJQUNYLGVBQWU7SUFDZixZQUFZO0lBQ1osd0JBQWdCO1lBQWhCLGdCQUFnQjtFQUNsQjtFQUNBO0lBQ0UsVUFBVTtFQUNaIiwic291cmNlc0NvbnRlbnQiOlsiLmRhdG9ze1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGZsZXgtZ3JvdzogMDtcbn1cbi5kYXRvcyBkaXZ7XG4gICAgd2lkdGg6IDUwJTtcbn1cbi5kYXRvcyBkaXYgZGl2e1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbn1cbi5kYXRvcyBidXR0b257XG4gICBoZWlnaHQ6MTVweDtcbiAgIHdpZHRoOjEwMHB4O1xufVxuLnF1YW50aXR5e1xuICAgIHdpZHRoOiAzMCU7XG4gICAgYm9yZGVyOiBub25lO1xuICB9XG4gIC5xdWFudGl0eTo6YmFja2Ryb3B7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAuNSk7XG4gIH1cbiAgLnF1YW50aXR5IC5mb3JtIC5mb3JtLWNvbnRyb2x7XG4gICAgICB3aWR0aDogOTUlO1xuICB9XG4gIC5oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG4gIFxuICAuZm9ybS1hY3Rpb25ze1xuICAgIGp1c3RpZnktY29udGVudDogcmlnaHQ7XG4gIH1cbiAgLmJ0biB7XG4gICAgYWxsOiB1bnNldDtcbiAgICBtaW4td2lkdGg6IDcwcHg7XG4gICAgcGFkZGluZzogLjhyZW0gMXJlbTtcbiAgICBtYXJnaW46IDByZW0gMHJlbTtcbiAgICBtYXJnaW4tdG9wOiAxcmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IC4zcmVtO1xuICAgIGZvbnQtc2l6ZTogLjgxMjVyZW07XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gICAgb3V0bGluZTogMDtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgY29sb3I6ICM2NzZkNzQ7XG4gIH1cbiAgXG4gIC5lbmFibGU6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNFQkVCRUI7XG4gIH1cbiAgLmJ0bi1jZXJyYXItZGlhbG9nIHtcbiAgICBhbGw6IHVuc2V0O1xuICAgIHBhZGRpbmc6IC4xcmVtIDFyZW07XG4gICAgYm9yZGVyLXJhZGl1czogLjFyZW07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDgwMDtcbiAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCAjZmZmO1xuICAgIG9wYWNpdHk6IC41O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgfVxuICAuYnRuLWNlcnJhci1kaWFsb2c6aG92ZXJ7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","DinamicInput","i0","ctx_r14","DetallesCompraComponent","constructor","routes","comunicatorSvc","renderer","route","comprasSvc","proveedoresSvc","usuariosSvc","productosSvc","fb","ngOnInit","setTimeout","ruta","url","slice","indexOf","lastIndexOf","title","push","decodeURI","toUpperCase","setTitleComponent","queryParams","subscribe","params","getBuy","res","Array","buy","getProvider","id_provider","provider","getUser","id_user","user","console","log","getProductsBuy","buy_products","forEach","buy_product","getProducto","id_product","products","formDevolucion","group","quantity_back","calcularTotal","total","buy_price","quantity_products","redirectToComprasRealizadas","navigate","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/compras/detalles-compra/detalles-compra.component.ts","/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/compras/detalles-compra/detalles-compra.component.html"],"sourcesContent":["import { Component, ElementRef, Renderer2, ViewChild } from '@angular/core';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { DinamicTable } from 'src/app/utils/DinamicTable';\nimport { ComprasService } from '../service/compras.service';\nimport { buy, buy_product, product, provider,user } from 'src/app/interfaces/interfaces';\nimport { ProveedoresService } from '../../administracion/proveedores/service/proveedores.service';\nimport { UsuariosService } from '../../administracion/usuarios/service/usuarios.service';\nimport { ProductosService } from '../../productos/productos-en-almacen/service/productos.service';\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { DinamicInput } from 'src/app/utils/DinamicInput';\n\n@Component({\n  selector: 'app-detalles-compra',\n  templateUrl: './detalles-compra.component.html',\n  styleUrls: ['./detalles-compra.component.css']\n})\nexport class DetallesCompraComponent extends DinamicInput{\n  ruta!: string\n  title: string[]=[]\n  buy!:buy\n  provider!:provider\n  user!:user\n  buy_products:buy_product[]=[]\n  products:product[]=[]\n  formDevolucion!:FormGroup\n  @ViewChild('quantity', { static: true }) quantityBack?: ElementRef;\n\n\n  constructor(private routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    public override renderer: Renderer2,\n    private route: ActivatedRoute,\n    private comprasSvc:ComprasService,\n    private proveedoresSvc:ProveedoresService,\n    private usuariosSvc:UsuariosService,\n    private productosSvc:ProductosService,\n    private fb:FormBuilder) { \n      super()\n    }\n\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2, this.routes.url.lastIndexOf('?'));\n      this.title.push(decodeURI(this.ruta).toUpperCase());//añado el titulo al array\n      this.title.push(\"fas fa-shopping-bag fa-fw\");//aañado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n    this.route.queryParams.subscribe((params) => {\n      this.comprasSvc.getBuy(params['id_buy'] ).subscribe(res=>{\n        if(res instanceof Array){\n          this.buy=res[0]\n          this.proveedoresSvc.getProvider(this.buy.id_provider).subscribe(res=>{\n            if(res instanceof Array){\n              this.provider=res[0]\n            }\n          })\n          this.usuariosSvc.getUser(this.buy.id_user).subscribe(res=>{\n            if(res instanceof Array){\n              this.user=res[0]\n            }\n          })\n          console.log(params['id_buy'])\n          this.comprasSvc.getProductsBuy(params['id_buy'] ).subscribe(res=>{\n            console.log(res)\n            if(res instanceof Array){\n              \n              this.buy_products=res\n              this.buy_products.forEach((buy_product:buy_product)=>{\n                this.productosSvc.getProducto(buy_product.id_product).subscribe(res=>{\n                  if(res instanceof Array){\n                    this.products.push(res[0])\n                  }\n                })\n\n              })\n            }\n          })\n        }\n      })\n    })\n    this.formDevolucion=this.fb.group({\n      quantity_back:new FormControl('')\n    })\n  }\n  calcularTotal(){\n   let total=0;\n    this.buy_products.forEach((buy_product:buy_product)=>{\n      total+=buy_product.buy_price*buy_product.quantity_products\n    })\n    return total\n  }\n  redirectToComprasRealizadas(){\n    this.routes.navigate(['/compras/compras realizadas'])\n  }\n\n}\n","<div class=\"form-container\">\n    <div class=\"datos\">\n        <div>\n            <p *ngIf=\"buy!=undefined\"> <strong>FECHA:</strong> {{buy.time|date:'dd/MM/yyyy'}}</p>\n            <p *ngIf=\"user!=undefined\"> <strong>COMPRA REGISTRADA POR:</strong> {{user.names}} {{user.last_names}}</p>\n        </div>\n        <div>\n            <p *ngIf=\"provider!=undefined\"> <strong>PROVEEDOR:</strong> {{provider.name_provider}}\n                {{provider.address_provider}}</p>\n\n        </div>\n        <button (click)=\"redirectToComprasRealizadas()\"\n         class=\"form-button btn-save\"><i class=\"fas fa-reply\"></i> &nbsp;Regresar</button>\n    </div>\n    <div class=\"table-container\">\n        <div class=\"table-title\">\n            <h6>productos comprados</h6>\n        </div>\n        <div class=\"table-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-bordered\">\n                    <thead>\n                        <tr>\n                            <th>N°</th>\n                            <th>Código de barra</th>\n                            <th>Producto</th>\n                            <th>Cantidad</th>\n                            <th>Precio de compra</th>\n                            <th>Sub total</th>\n                            <th>Devolución</th>\n                        </tr>\n                    </thead>\n\n                    <tbody #tab>\n                        <tr *ngFor=\"let buy_product of buy_products; let i=index\">\n                            <td>{{i+1}}</td>\n                            <td *ngIf=\"products[i]!=undefined\">{{products[i].barcode}}</td>\n                            <td *ngIf=\"products[i]!=undefined\">\n                                {{products[i].name}}&nbsp;{{products[i].mark}}&nbsp;{{products[i].model}}&nbsp;</td>\n                            <td>{{buy_product.quantity_products}} </td>\n                            <td>{{buy_product.buy_price|currency:buy.coin+' '}}</td>\n                            <td>{{buy_product.quantity_products*buy_product.buy_price|currency:buy.coin+' '}}</td>\n                            <td class=\"icon\" (click)=\"this.quantityBack?.nativeElement.showModal()\">\n                                <i class=\"fas fa-truck-loading fa-fw\" style=\"color:#009688\"></i>\n                            </td>\n                        </tr>\n                     <tr *ngIf=\"buy_products.length>0\">\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td><strong>Total</strong></td>\n                        <td>{{calcularTotal()|currency:buy.coin+' '}}</td>\n                        <td></td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class=\"table-container\">\n        <div class=\"table-title\">\n            <h6>Devoluciones realizadas</h6>\n        </div>\n        <div class=\"table-body\">\n            <div class=\"table-responsive\">\n                <table class=\"table table-bordered\">\n                    <thead>\n                        <tr>\n                            <th>N°</th>\n                            <th>Código de barra</th>\n                            <th>buy_producto</th>\n                            <th>Cantidad</th>\n                            <th>Precio de compra</th>\n                            <th>Sub total</th>\n                            <th>Devolución</th>\n                        </tr>\n                    </thead>\n\n                    <tbody #tab>\n                        <!--   <tr *ngFor=\"let buy_product of buy_products; let i=index\">\n                        <td>{{i+1}}</td>\n                        <td>{{buy_product.barcode}}</td>\n                        <td>{{buy_product.name}}&nbsp;{{buy_product.mark}}&nbsp;{{buy_product.model}}&nbsp;</td>\n                        <td>\n                            <input currencyMask class=\"input-table\" [(ngModel)]=\"listbuy_productsToBuy[i].quantity_buy_products\"\n                                [options]=\"{ prefix: '',precision:0,align:'left' }\">\n                        </td>\n                        <td>\n                            <input currencyMask class=\"input-table\" [(ngModel)]=\"buy_product.buy_price\" [options]=\"{ prefix: formDevolucion.get('coin')?.value+' ',\n                                     thousands: ',', decimal: '.',align:'left' }\" />\n                        </td>\n                        <td>{{calcularSubtotal(buy_product,i) |currency:formDevolucion.get('coin')?.value+' '}}</td>\n                        <td class=\"icon\" (click)=\"openModalToDelete()\">\n                            <i class=\"fa fa-trash-can delete\"></i>\n                        </td>\n                    </tr> -->\n                        <!--  <tr *ngIf=\"buy_products.length>0\">\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td></td>\n                        <td><strong>Total</strong></td>\n                        <td>{{calcularTotal()|currency:formDevolucion.get('coin')?.value+' '}}</td>\n                    </tr> -->\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n<dialog #quantity class=\"quantity\">\n    <div class=\"header\">\n        <h2 class=\"title\">Realizar devolución</h2>\n        <button class=\"btn-cerrar-dialog\" (click)=\"cancel(quantityBack)\">x</button>\n    </div>\n    <div class=\"form\" [formGroup]=\"formDevolucion\">\n        <div class=\"form-control\" [ngClass]=\"{'input-on-focus-success':verifyStyleInput(formDevolucion,'quantity_back')&&\n    elementHasFocus[7],'input-on-focus-fail':!verifyStyleInput(formDevolucion,'quantity_back')}\">\n            <label class=\"form-label\" [ngClass]=\"{'label-on-focus-down':\nelementHasFocus[7]&&positionLabel[7],\n'label-on-focus-up':\nelementHasFocus[7]&&!positionLabel[7]}\" [ngStyle]=\"animationLabel(formDevolucion,\n'quantity_back')\">\n                Cantidad a devolver\n            </label>\n            <input formControlName=\"quantity_back\"\n                (focus)=\"isFocused(7,formDevolucion,'quantity_back')\"\n                (focusout)=\"isFocused(7,formDevolucion,'quantity_back')\" class=\"form-input\"\n                [ngStyle]=\"styleForeground(formDevolucion,'quantity_back')\"\n               >\n        </div>\n    </div>\n    <div class=\"form-actions\">\n        <button class=\"form-button btn\"\n            [ngClass]=\"{'enable':formDevolucion.get('quantity_back')?.value.length>0}\"\n            >\n           <i class=\"fas fa-truck-loading fa-fw\"></i> &nbsp;&nbsp;REALIZAR DEVOLUCIÓN</button>\n        <button class=\"form-button btn enable\" (click)=\"cancel(quantityBack)\" style=\"color:#f44336\">\n            <i class=\"far fa-times-circle\"></i> &nbsp;&nbsp;CANCELAR</button>\n    </div>\n</dialog>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}