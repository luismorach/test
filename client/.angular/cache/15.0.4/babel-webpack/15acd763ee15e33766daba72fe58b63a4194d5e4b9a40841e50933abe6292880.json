{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/comunicator/comunicator-componets.service\";\nimport * as i3 from \"../../administracion/categorias/service/categorias.service\";\nimport * as i4 from \"../productos-en-almacen/service/productos.service\";\nimport * as i5 from \"@angular/common\";\nfunction ProductosPorCategoriaComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 7);\n    i0.ɵɵlistener(\"click\", function ProductosPorCategoriaComponent_li_6_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.selectedCategory(ctx_r5.productByCategory[i_r4].category, ctx_r5.productByCategory[i_r4].products));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.productByCategory[i_r4].category.name, \"\\u00A0\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.productByCategory[i_r4].products.length);\n  }\n}\nfunction ProductosPorCategoriaComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Categor\\u00EDa no seleccionada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Por favor seleccione una categor\\u00EDa para empezar a buscar productos.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductosPorCategoriaComponent_div_9_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r8 = ctx.$implicit;\n    const i_r9 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r9 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r8.barcode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", product_r8.name, \" \\u00A0 \", product_r8.mark, \"\\u00A0\", product_r8.model, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r8.exist_quantity);\n  }\n}\nfunction ProductosPorCategoriaComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"h6\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 13)(5, \"div\", 14)(6, \"table\", 15)(7, \"thead\")(8, \"tr\")(9, \"th\");\n    i0.ɵɵtext(10, \"N\\u00B0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"C\\u00F3digo de barra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Descripcion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Existentes\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, ProductosPorCategoriaComponent_div_9_tr_18_Template, 9, 6, \"tr\", 16);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Productos en la categor\\u00EDa \\\"\", ctx_r2.currentCategory.name, \"\\\"\");\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.currentProducts);\n  }\n}\nexport class ProductosPorCategoriaComponent {\n  constructor(routes, comunicatorSvc, categoriesSvc, productsSvc) {\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.categoriesSvc = categoriesSvc;\n    this.productsSvc = productsSvc;\n    this.categories = [];\n    this.productByCategory = [];\n    this.selected = false;\n  }\n  ngOnInit() {\n    let title = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2);\n      title.push(\"fas fa-box fa-fw\"); //aañado el icono del titulo al array\n      title.push(decodeURI(ruta).toUpperCase()); //añado el titulo al array\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.categoriesSvc.getCategories().subscribe({\n      next: categories => {\n        this.categories = categories;\n      },\n      complete: () => {\n        this.categories.forEach(category => {\n          this.productsSvc.getProductoByCategory(category.id_category).subscribe(products => {\n            if (products instanceof Array) {\n              this.productByCategory.push({\n                category,\n                products\n              });\n            } else {\n              products = [];\n              this.productByCategory.push({\n                category,\n                products\n              });\n            }\n          });\n        });\n      }\n    });\n  }\n  selectedCategory(category, products) {\n    this.selected = true;\n    this.currentProducts = products;\n    this.currentCategory = category;\n  }\n}\nProductosPorCategoriaComponent.ɵfac = function ProductosPorCategoriaComponent_Factory(t) {\n  return new (t || ProductosPorCategoriaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ComunicatorComponetsService), i0.ɵɵdirectiveInject(i3.CategoriasService), i0.ɵɵdirectiveInject(i4.ProductosService));\n};\nProductosPorCategoriaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductosPorCategoriaComponent,\n  selectors: [[\"app-productos-por-categoria\"]],\n  decls: 10,\n  vars: 3,\n  consts: [[1, \"main-container\"], [1, \"left-container\"], [1, \"fas\", \"fa-tags\"], [\"class\", \"option\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"right-container\"], [\"class\", \"presentation\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"option\", 3, \"click\"], [1, \"badge\"], [1, \"presentation\"], [1, \"fab\", \"fa-shopify\", \"fa-fw\", \"fa-5x\"], [1, \"table-container\"], [1, \"table-title\"], [1, \"table-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-bordered\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function ProductosPorCategoriaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵelement(3, \"i\", 2);\n      i0.ɵɵtext(4, \" \\u00A0CATEGOR\\u00CDAS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ul\");\n      i0.ɵɵtemplate(6, ProductosPorCategoriaComponent_li_6_Template, 4, 2, \"li\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4);\n      i0.ɵɵtemplate(8, ProductosPorCategoriaComponent_div_8_Template, 6, 0, \"div\", 5);\n      i0.ɵɵtemplate(9, ProductosPorCategoriaComponent_div_9_Template, 19, 2, \"div\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.productByCategory);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.selected);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.selected);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf],\n  styles: [\".main-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 100%;\\n  min-height: 75%;\\n  background-color: white;\\n  border: 1px solid #D8D8D8;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.left-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 25%;\\n  border-right: 1px solid #D8D8D8;\\n}\\n\\n.left-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .left-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.6rem;\\n  color: #0366D6;\\n}\\n\\n.left-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-weight: 200;\\n  border-bottom: 1px solid #D8D8D8;\\n  margin: 0px;\\n  margin-top: 20px;\\n  width: 100%;\\n  height: 40px;\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  list-style: none;\\n  margin: 0px;\\n  padding: 0px;\\n  width: 100%;\\n}\\n\\n.option[_ngcontent-%COMP%] {\\n  height: 3.5rem;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n}\\n.option[_ngcontent-%COMP%]:hover{\\n  border-left: 4px solid #0366D6;\\n}\\n\\n.badge[_ngcontent-%COMP%]{\\n  text-align: center;\\n  color: white ;\\n  background-color: #03a9f4;\\n  padding:0px  10px;\\n  border-radius: 10px;\\n  font-size: 1.08rem;\\n}\\n\\n.right-container[_ngcontent-%COMP%] {\\n  display: flex;\\n   justify-content: center; \\n    \\n   width: 100%; \\n  border-left: 1px solid #D8D8D8;\\n}\\n\\n.presentation[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  color: #009688;\\n}\\n\\n.presentation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  font-weight: 200;\\n  margin: 0px;\\n  margin-top: 20px;\\n}\\n\\n.presentation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0px;\\n  margin-top: 5px;\\n}\\n.table-container[_ngcontent-%COMP%]{\\n  margin:0px\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW5pc3RyYWRvci9jb250ZW50L3Byb2R1Y3Rvcy9wcm9kdWN0b3MtcG9yLWNhdGVnb3JpYS9wcm9kdWN0b3MtcG9yLWNhdGVnb3JpYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLFdBQVc7RUFDWCxlQUFlO0VBQ2YsdUJBQXVCO0VBQ3ZCLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFVBQVU7RUFDViwrQkFBK0I7QUFDakM7O0FBRUE7O0VBRUUsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdDQUFnQztFQUNoQyxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVk7RUFDWixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsV0FBVztFQUNYLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGVBQWU7QUFDakI7QUFDQTtFQUNFLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsYUFBYTtHQUNaLHVCQUF1QjtHQUN2Qix5QkFBeUI7R0FDekIsV0FBVztFQUNaLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxlQUFlO0FBQ2pCO0FBQ0E7RUFDRTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW4tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDc1JTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNEOEQ4RDg7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xufVxuXG4ubGVmdC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogMjUlO1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjRDhEOEQ4O1xufVxuXG4ubGVmdC1jb250YWluZXIgaDMsXG4ubGVmdC1jb250YWluZXIgaDMgaSB7XG4gIGZvbnQtc2l6ZTogMS42cmVtO1xuICBjb2xvcjogIzAzNjZENjtcbn1cblxuLmxlZnQtY29udGFpbmVyIGgzIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogMjAwO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0Q4RDhEODtcbiAgbWFyZ2luOiAwcHg7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDQwcHg7XG59XG5cbnVsIHtcbiAgbGlzdC1zdHlsZTogbm9uZTtcbiAgbWFyZ2luOiAwcHg7XG4gIHBhZGRpbmc6IDBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5vcHRpb24ge1xuICBoZWlnaHQ6IDMuNXJlbTtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4ub3B0aW9uOmhvdmVye1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkICMwMzY2RDY7XG59XG5cbi5iYWRnZXtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogd2hpdGUgO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDNhOWY0O1xuICBwYWRkaW5nOjBweCAgMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgZm9udC1zaXplOiAxLjA4cmVtO1xufVxuXG4ucmlnaHQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyBcbiAgIC8qIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICovIFxuICAgd2lkdGg6IDEwMCU7IFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNEOEQ4RDg7XG59XG5cbi5wcmVzZW50YXRpb24ge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGNvbG9yOiAjMDA5Njg4O1xufVxuXG4ucHJlc2VudGF0aW9uIGgzIHtcbiAgZm9udC1zaXplOiAxLjhyZW07XG4gIGZvbnQtd2VpZ2h0OiAyMDA7XG4gIG1hcmdpbjogMHB4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4ucHJlc2VudGF0aW9uIHAge1xuICBtYXJnaW46IDBweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xufVxuLnRhYmxlLWNvbnRhaW5lcntcbiAgbWFyZ2luOjBweFxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductosPorCategoriaComponent","constructor","routes","comunicatorSvc","categoriesSvc","productsSvc","ngOnInit","title","ruta","setTimeout","url","slice","indexOf","push","decodeURI","toUpperCase","setTitleComponent","getCategories","subscribe","next","categories","complete","forEach","category","getProductoByCategory","id_category","products","Array","productByCategory","selectedCategory","selected","currentProducts","currentCategory","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/administrador/content/productos/productos-por-categoria/productos-por-categoria.component.html","/home/luis/Documentos/systems vs code/inventary-system/client/src/app/administrador/content/productos/productos-por-categoria/productos-por-categoria.component.ts"],"sourcesContent":["<div class=\"main-container\">\n    <div class=\"left-container\">\n        <h3><i class=\"fas fa-tags\"></i> &nbsp;CATEGORÍAS</h3>\n        <ul>\n            <li (click)=\"selectedCategory(productByCategory[i].category,productByCategory[i].products)\" class=\"option\"\n                *ngFor=\"let category of productByCategory;let i =index\">\n                {{productByCategory[i].category.name}}&nbsp;<span\n                    class=\"badge\">{{productByCategory[i].products.length}}</span>\n            </li>\n        </ul>\n    </div>\n    <div class=\"right-container\">\n        <div class=\"presentation\" *ngIf=\"!selected\">\n            <i class=\"fab fa-shopify fa-fw fa-5x\"></i>\n            <h3>Categoría no seleccionada</h3>\n            <p>Por favor seleccione una categoría para empezar a buscar productos.</p>\n        </div>\n        <div class=\"table-container\" *ngIf=\"selected\">\n            <div class=\"table-title\">\n                <h6>Productos en la categoría \"{{currentCategory.name}}\"</h6>\n            </div>\n            <div class=\"table-body\" >\n                <div class=\"table-responsive\">\n                    <table class=\"table table-bordered\">\n                        <thead>\n                            <tr>\n                                <th>N°</th>\n                                <th>Código de barra</th>\n                                <th>Descripcion</th>\n                                <th>Existentes</th>\n                            </tr>\n                        </thead>\n\n                        <tbody>\n                            <tr *ngFor=\"let product of currentProducts let i=index\">\n                                <td>{{i+1}}</td>\n                                <td>{{product.barcode}}</td>\n                                <td>{{product.name}} &nbsp; {{product.mark}}&nbsp;{{product.model}}</td>\n                                <th>{{product.exist_quantity}}</th>\n\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { category, product, productByCategory } from 'src/app/interfaces/interfaces';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { CategoriasService } from '../../administracion/categorias/service/categorias.service';\nimport { ProductosService } from '../productos-en-almacen/service/productos.service';\n\n@Component({\n  selector: 'app-productos-por-categoria',\n  templateUrl: './productos-por-categoria.component.html',\n  styleUrls: ['./productos-por-categoria.component.css']\n})\nexport class ProductosPorCategoriaComponent {\n  categories: category[] = [];\n  currentCategory!:category\n  productByCategory: productByCategory[] = []\n  currentProducts!:product[]\n  selected:boolean=false\n\n  constructor(private routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    private categoriesSvc: CategoriasService,\n    private productsSvc: ProductosService) { }\n\n  ngOnInit() {\n    let title: string[] = [];\n    let ruta;\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2);\n      title.push(\"fas fa-box fa-fw\");//aañado el icono del titulo al array\n      title.push(decodeURI(ruta).toUpperCase());//añado el titulo al array\n\n      this.comunicatorSvc.setTitleComponent(title);\n    });\n    this.categoriesSvc.getCategories().subscribe({\n      next: categories => { this.categories = categories },\n      complete: () => {\n        this.categories.forEach((category: category) => {\n          this.productsSvc.getProductoByCategory(category.id_category).subscribe(\n            products => {\n              if (products instanceof Array) {\n                this.productByCategory.push({ category, products })\n              } else {\n                products = []\n                this.productByCategory.push({ category, products })\n              }\n            }\n          )\n        });\n      }\n    });\n  }\n\n  selectedCategory(category:category,products:product[]) {\n    this.selected=true\n    this.currentProducts=products\n    this.currentCategory=category\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}