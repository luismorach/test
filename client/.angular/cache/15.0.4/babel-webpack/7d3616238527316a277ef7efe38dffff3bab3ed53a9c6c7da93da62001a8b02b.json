{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { DinamicTable } from 'src/app/utils/DinamicTable';\nlet DetallesCompraComponent = class DetallesCompraComponent extends DinamicTable {\n  constructor(routes, comunicatorSvc, renderer, route, comprasSvc, proveedoresSvc, usuariosSvc, productosSvc) {\n    super(renderer);\n    this.routes = routes;\n    this.comunicatorSvc = comunicatorSvc;\n    this.renderer = renderer;\n    this.route = route;\n    this.comprasSvc = comprasSvc;\n    this.proveedoresSvc = proveedoresSvc;\n    this.usuariosSvc = usuariosSvc;\n    this.productosSvc = productosSvc;\n    this.title = [];\n    this.buy_products = [];\n    this.products = [];\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice(this.routes.url.slice(1).indexOf('/') + 2, this.routes.url.lastIndexOf('/'));\n      this.title.push(decodeURI(this.ruta).toUpperCase()); //a単ado el titulo al array\n      this.title.push(\"fas fa-shopping-bag fa-fw\"); //aa単ado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n    this.route.queryParams.subscribe(params => {\n      this.comprasSvc.getBuy(params['id_buy']).subscribe(res => {\n        if (res instanceof Array) {\n          this.buy = res[0];\n          this.proveedoresSvc.getProvider(this.buy.id_provider).subscribe(res => {\n            if (res instanceof Array) {\n              this.provider = res[0];\n            }\n          });\n          this.usuariosSvc.getUser(this.buy.id_user).subscribe(res => {\n            if (res instanceof Array) {\n              this.user = res[0];\n            }\n          });\n          this.comprasSvc.getProductsBuy(params['id_buy']).subscribe(res => {\n            if (res instanceof Array) {\n              this.buy_products = res;\n              this.buy_products.forEach(buy_product => {\n                this.productosSvc.getProducto(buy_product.id_product).subscribe(res => {\n                  if (res instanceof Array) {\n                    this.products.push(res[0]);\n                  }\n                });\n              });\n            }\n          });\n        }\n      });\n    });\n  }\n};\nDetallesCompraComponent = __decorate([Component({\n  selector: 'app-detalles-compra',\n  templateUrl: './detalles-compra.component.html',\n  styleUrls: ['./detalles-compra.component.css']\n})], DetallesCompraComponent);\nexport { DetallesCompraComponent };","map":{"version":3,"mappings":"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","names":["Component","DinamicTable","DetallesCompraComponent","constructor","routes","comunicatorSvc","renderer","route","comprasSvc","proveedoresSvc","usuariosSvc","productosSvc","ngOnInit","setTimeout","ruta","url","slice","indexOf","lastIndexOf","title","push","decodeURI","toUpperCase","setTitleComponent","queryParams","subscribe","params","getBuy","res","Array","buy","getProvider","id_provider","provider","getUser","id_user","user","getProductsBuy","buy_products","forEach","buy_product","getProducto","id_product","products","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/luis/Documentos/systems vs code/inventary-system/client/src/app/content/compras/detalles-compra/detalles-compra.component.ts"],"sourcesContent":["import { Component, Renderer2 } from '@angular/core';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { ComunicatorComponetsService } from 'src/app/services/comunicator/comunicator-componets.service';\nimport { DinamicTable } from 'src/app/utils/DinamicTable';\nimport { ComprasService } from '../service/compras.service';\nimport { buy, buy_product, product, provider,user } from 'src/app/interfaces/interfaces';\nimport { ProveedoresService } from '../../administracion/proveedores/service/proveedores.service';\nimport { UsuariosService } from '../../administracion/usuarios/service/usuarios.service';\nimport { ProductosService } from '../../productos/productos-en-almacen/service/productos.service';\n\n@Component({\n  selector: 'app-detalles-compra',\n  templateUrl: './detalles-compra.component.html',\n  styleUrls: ['./detalles-compra.component.css']\n})\nexport class DetallesCompraComponent extends DinamicTable{\n  ruta!: string\n  title: string[]=[]\n  buy!:buy\n  provider!:provider\n  user!:user\n  buy_products:buy_product[]=[]\n  products:product[]=[]\n  constructor(private routes: Router,\n    private comunicatorSvc: ComunicatorComponetsService,\n    public override renderer: Renderer2,\n    private route: ActivatedRoute,\n    private comprasSvc:ComprasService,\n    private proveedoresSvc:ProveedoresService,\n    private usuariosSvc:UsuariosService,\n    private productosSvc:ProductosService) { \n      super(renderer)\n    }\n\n  ngOnInit() {\n    setTimeout(() => {\n      /* Obtengo la ruta actual y la transformo para obtener el titulo del componente*/\n      this.ruta = this.routes.url.slice((this.routes.url.slice(1).indexOf('/')) + 2, this.routes.url.lastIndexOf('/'));\n      this.title.push(decodeURI(this.ruta).toUpperCase());//a単ado el titulo al array\n      this.title.push(\"fas fa-shopping-bag fa-fw\");//aa単ado el icono del titulo al array\n      this.comunicatorSvc.setTitleComponent(this.title);\n    });\n    this.route.queryParams.subscribe((params) => {\n      this.comprasSvc.getBuy(params['id_buy'] ).subscribe(res=>{\n        if(res instanceof Array){\n          this.buy=res[0]\n          this.proveedoresSvc.getProvider(this.buy.id_provider).subscribe(res=>{\n            if(res instanceof Array){\n              this.provider=res[0]\n            }\n          })\n          this.usuariosSvc.getUser(this.buy.id_user).subscribe(res=>{\n            if(res instanceof Array){\n              this.user=res[0]\n            }\n          })\n          this.comprasSvc.getProductsBuy(params['id_buy'] ).subscribe(res=>{\n            if(res instanceof Array){\n              this.buy_products=res\n              this.buy_products.forEach((buy_product:buy_product)=>{\n                this.productosSvc.getProducto(buy_product.id_product).subscribe(res=>{\n                  if(res instanceof Array){\n                    this.products.push(res[0])\n                  }\n                })\n\n              })\n            }\n          })\n        }\n      })\n    })\n    \n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}